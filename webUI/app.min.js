!function(){"use strict";angular.module("app",["ui.bootstrap","ui.router","app.common","app.providers","app.directives","app.services","app.home","app.rankings"])}(),function(){"use strict";angular.module("app.home",[])}(),function(){"use strict";angular.module("app.rankings",[])}(),function(){"use strict";angular.module("app.common",[])}(),function(){"use strict";angular.module("app.directives",[])}(),function(){"use strict";angular.module("app.filters",[])}(),function(){"use strict";angular.module("app.providers",[])}(),function(){"use strict";angular.module("app.services",[])}(),function(){"use strict";function e(e,a,n){e.debugEnabled(!0),n.otherwise("/home"),a.state("app",{"abstract":!0,views:{nav:{templateUrl:"/app/shared/app_layout/navTemplate.html",controller:"NavController",controllerAs:"vm"},"":{templateUrl:"/app/shared/app_layout/contentTemplate.html",controller:"ContentController",controllerAs:"vm"},sidebar:{templateUrl:"/app/shared/app_layout/sidebarTemplate.html",controller:"SidebarController",controllerAs:"vm"},footer:{templateUrl:"/app/shared/app_layout/footerTemplate.html",controller:"FooterController",controllerAs:"vm"}}})}var a=angular.module("app");a.config(e),e.$inject=["$logProvider","$stateProvider","$urlRouterProvider"],a.run(["$rootScope",function(e){e.$on("$stateChangeSuccess",function(a,n){e.title=n.title,e.bodyCss=n.bodyCss})}])}(),function(){"use strict";function e(e){e.state("app.home",{url:"/home",templateUrl:"/app/components/home/homeView.html",controller:"HomeController",controllerAs:"vm",title:"Home",bodyCss:"home"})}angular.module("app.home").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(){}angular.module("app.rankings").config(e),e.$inject=[]}(),function(){"use strict";function e(){}angular.module("app.common").config(e),e.$inject=[]}(),function(){"use strict";function e(){}angular.module("app.directives").config(e),e.$inject=[]}(),function(){"use strict";function e(){}angular.module("app.filters").config(e),e.$inject=[]}(),function(){"use strict";function e(){}angular.module("app.providers").config(e),e.$inject=[]}(),function(){"use strict";function e(){}angular.module("app.services").config(e),e.$inject=[]}(),function(){"use strict";function e(a,n,t,r){function o(){a.debug(e,o,"Initializing...")}var i=this;i.globalEnum=r,o()}angular.module("app.home").controller("HomeController",e),e.$inject=["logger","iconProvider","wowService","globalEnum","cache"]}(),function(){"use strict";function e(a){function n(){a.debug(e,n,"Initializing...")}n()}angular.module("app").controller("ContentController",e),e.$inject=["logger"]}(),function(){"use strict";function e(a){function n(){a.debug(e,n,"Initializing...")}n()}angular.module("app").controller("FooterController",e),e.$inject=["logger"]}(),function(){"use strict";function e(a){function n(){a.debug(e,n,"Initializing...")}n()}angular.module("app").controller("NavController",e),e.$inject=["logger"]}(),function(){"use strict";function e(a){function n(){a.debug(e,n,"Initializing...")}n()}angular.module("app").controller("SidebarController",e),e.$inject=["logger"]}(),function(){"use strict";function e(){function e(e,n,t){if(e=a+e,n)for(var r,o=Object.keys(n),i=0;i<o.length;i++)r=o[i],e=e.replace("/:"+r,"/"+n[r]);if(t)for(var l,s,c=Object.keys(t),u=0;u<c.length;u++)l=c[u],s=0===u?"?":"&",e=e+s+l+"="+t[l];return e}var a="/api",n="/wow",t=n+"/data";return{wow:{data:{classes:t+"/character/classes",races:t+"/character/races",talents:t+"/talents"},pvp:{leaderboard:"/wow/leaderboard/:bracket"}},route:e}}angular.module("app.common").factory("api",e),e.$inject=[]}(),function(){"use strict";function e(a,n){function t(a,r){return a?(r.timestamp=moment().toISOString(),localStorage.setItem(a,JSON.stringify(r)),n.debug(e,t,'Storing object with key: "'+a+'".'),void 0):(n.error(e,t,"Key not provided."),void 0)}function r(t){if(!t)return n.error(e,r,"Key not provided."),void 0;var o=JSON.parse(localStorage.getItem(t));if(!o)return null;var i=moment(o.timestamp),l=moment();if(l.diff(i,"minutes")>=a.CACHE_MINUTES)return localStorage.removeItem(t),null;var s=_.clone(o,!0);return delete s.timestamp,s}return{store:t,load:r}}angular.module("app.common").factory("cache",e),e.$inject=["globalConstants","logger"]}(),function(){"use strict";var e=angular.module("app.common"),a="http://media.blizzard.com/wow/icons",n="http://wow.zamimg.com/images/wow/icons",t={BLIZZ_ICONS_ROOT:a,ZAM_ICONS_ROOT:n,BNET_ROOT_EU:"http://eu.battle.net",BNET_ROOT_US:"http://us.battle.net",CACHE_MINUTES:60};e.constant("globalConstants",t)}(),function(){"use strict";var e=angular.module("app.common");e.constant("globalEnum",{region:{EU:{mask:Math.pow(2,0),enumVal:"eu",display:"EU",displayLong:"Europe"},US:{mask:Math.pow(2,1),enumVal:"us",display:"US",displayLong:"United States"}},gameMode:{PvE:{mask:Math.pow(2,0),enumVal:"pve",display:"PvE"},PvP:{mask:Math.pow(2,1),enumVal:"pvp",display:"PvP"}},faction:{Alliance:{mask:Math.pow(2,0),enumVal:"alliance",display:"Alliance",blizzId:0},Horde:{mask:Math.pow(2,1),enumVal:"horde",display:"Horde",blizzId:1}},gender:{Male:{mask:Math.pow(2,0),enumVal:"male",display:"Male",blizzId:0},Female:{mask:Math.pow(2,1),enumVal:"female",display:"Female",blizzId:1}},race:{Human:{mask:Math.pow(2,0),enumVal:"human",display:"Human",blizzId:1},Orc:{mask:Math.pow(2,1),enumVal:"orc",display:"Orc",blizzId:2},Dwarf:{mask:Math.pow(2,2),enumVal:"dwarf",display:"Dwarf",blizzId:3},NightElf:{mask:Math.pow(2,3),enumVal:"nightelf",display:"Night Elf",blizzId:4},Undead:{mask:Math.pow(2,4),enumVal:"undead",display:"Undead",blizzId:5},Tauren:{mask:Math.pow(2,5),enumVal:"tauren",display:"Tauren",blizzId:6},Gnome:{mask:Math.pow(2,6),enumVal:"gnome",display:"Gnome",blizzId:7},Troll:{mask:Math.pow(2,7),enumVal:"troll",display:"Troll",blizzId:8},Goblin:{mask:Math.pow(2,8),enumVal:"goblin",display:"Goblin",blizzId:9},BloodElf:{mask:Math.pow(2,9),enumVal:"bloodelf",display:"Blood Elf",blizzId:10},Draenei:{mask:Math.pow(2,10),enumVal:"draenei",display:"Draenei",blizzId:11},Worgen:{mask:Math.pow(2,11),enumVal:"worgen",display:"Worgen",blizzId:22},PandarenNeutral:{mask:Math.pow(2,12),enumVal:"pandarenneutral",display:"Pandaren Neutral",blizzId:24},PandarenAlliance:{mask:Math.pow(2,13),enumVal:"pandarenalliance",display:"Pandaren Alliance",blizzId:25},PandarenHorde:{mask:Math.pow(2,14),enumVal:"pandarenhorde",display:"Pandaren Horde",blizzId:26}},"class":{Warrior:{mask:Math.pow(2,0),enumVal:"warrior",display:"Warrior",blizzId:1,specs:[71,72,73]},Paladin:{mask:Math.pow(2,1),enumVal:"paladin",display:"Paladin",blizzId:2,specs:[65,66,70]},Hunter:{mask:Math.pow(2,2),enumVal:"hunter",display:"Hunter",blizzId:3,specs:[253,254,255]},Rogue:{mask:Math.pow(2,3),enumVal:"rogue",display:"Rogue",blizzId:4,specs:[259,260,261]},Priest:{mask:Math.pow(2,4),enumVal:"priest",display:"Priest",blizzId:5,specs:[256,257,258]},DeathKnight:{mask:Math.pow(2,5),enumVal:"deathknight",display:"Death Knight",blizzId:6,specs:[250,251,252]},Shaman:{mask:Math.pow(2,6),enumVal:"shaman",display:"Shaman",blizzId:7,specs:[262,263,264]},Mage:{mask:Math.pow(2,7),enumVal:"mage",display:"Mage",blizzId:8,specs:[62,63,64]},Warlock:{mask:Math.pow(2,8),enumVal:"warlock",display:"Warlock",blizzId:9,specs:[265,266,267]},Monk:{mask:Math.pow(2,9),enumVal:"monk",display:"Monk",blizzId:10,specs:[268,269,270]},Druid:{mask:Math.pow(2,10),enumVal:"druid",display:"Druid",blizzId:11,specs:[102,103,104,105]}},bracket:{TwoVsTwo:{mask:Math.pow(2,0),enumVal:"2v2",display:"2v2",displayLong:"Arena 2v2"},ThreeVsThree:{mask:Math.pow(2,1),enumVal:"3v3",display:"3v3",displayLong:"Arena 3v3"},FiveVsFive:{mask:Math.pow(2,2),enumVal:"5v5",display:"5v5",displayLong:"Arena 5v5"},Rbg:{mask:Math.pow(2,3),enumVal:"rbg",display:"Rbg",displayLong:"Rated Battlegrounds"}},iconSize:{Small:{mask:Math.pow(2,0),enumVal:"small",display:"Small"},Medium:{mask:Math.pow(2,1),enumVal:"medium",display:"Medium"},Large:{mask:Math.pow(2,2),enumVal:"large",display:"Large"}},rankListType:{Players:{mask:Math.pow(2,0),enumVal:"players",display:"Players"},Specs:{mask:Math.pow(2,1),enumVal:"specs",display:"Specs"},Races:{mask:Math.pow(2,2),enumVal:"races",display:"Races"},Guilds:{mask:Math.pow(2,3),enumVal:"guilds",display:"Guilds"},Achievements:{mask:Math.pow(2,4),enumVal:"achievements",display:"Achievements"},Mounts:{mask:Math.pow(2,5),enumVal:"mounts",display:"Mounts"}}})}(),function(){"use strict";function e(e,a){function n(a,n){return e.BLIZZ_ICONS_ROOT+"/"+l[n.enumVal.toLowerCase()]+"/"+a+s}function t(a,n){return e.ZAM_ICONS_ROOT+"/"+n.enumVal.toLowerCase()+"/"+a+s}function r(e,a){var n="alliance";1===e&&(n="horde");var r="faction_"+n.toLowerCase();return t(r,a)}function o(e,n){var r=_.findKey(a.class,function(a){return e===a.blizzId}),o=a.class[r].enumVal,i="class_"+o.toLowerCase();return t(i,n)}function i(e,n,r){var o=_.findKey(a.race,function(a){return e===a.blizzId}),i=_.findKey(a.gender,function(e){return n===e.blizzId}),l=a.race[o].enumVal,s=a.gender[i].enumVal,c="race_"+l.toLowerCase()+"_"+s;return t(c,r)}var l={small:18,medium:36,large:56},s=".jpg";return{blizzIconLink:n,zamIconLink:t,factionIconLink:r,classIconLink:o,raceIconLink:i}}angular.module("app.providers").factory("iconProvider",e),e.$inject=["globalConstants","globalEnum","logger"]}(),function(){"use strict";function e(e){function a(a,n,t){e.debug(i(a,n,t))}function n(a,n,t){e.error(i(a,n,t))}function t(a,n,t){e.info(i(a,n,t))}function r(a,n,t){e.log(i(a,n,t))}function o(a,n,t){e.warn(i(a,n,t))}function i(e,a,n){return e.name+" -> "+a.name+"(): "+n}return{debug:a,error:n,info:t,log:r,warn:o}}angular.module("app.providers").factory("logger",e),e.$inject=["$log"]}(),function(){"use strict";function e(e){function a(e){return e.promise.success=function(a){return e.promise.then(a,null),e.promise},e.promise.error=function(a){return e.promise.then(null,a),e.promise},e}function n(n,t){var r=e.defer();return t?r.reject(n):r.resolve(n),a(r),r.promise}return{promiseFromObj:n}}angular.module("app.providers").factory("promiseProvider",e),e.$inject=["$q","logger"]}(),function(){"use strict";function e(a,n,t,r,o,i,l,s,c){function u(e){return e===l.region.US?i.BNET_ROOT_US:i.BNET_ROOT_EU}function p(e,n,t){var r=u(n);return t=t||{},t=angular.extend(t,{callback:"angular.callbacks._"+y,jsonp:"JSON_CALLBACK"}),y++,/character/.test(e)&&delete t.callback,a.jsonp(r+e,{params:t})}function d(){var a=t.load(k);return a?(c.debug(e,d,"Retrieving from cache."),r.promiseFromObj(a)):(c.debug(e,d,"Calling service."),p(s.route(s.wow.data.classes)).then(function(e){return t.store(k,e),e}))}function m(){var a=t.load(w);return a?(c.debug(e,m,"Retrieving from cache."),r.promiseFromObj(a)):(c.debug(e,m,"Calling service."),p(s.route(s.wow.data.races)).then(function(e){return t.store(w,e),e}))}function g(){var a=t.load(z);return a?(c.debug(e,g,"Retrieving from cache."),r.promiseFromObj(a)):(c.debug(e,g,"Calling service."),p(s.route(s.wow.data.talents)).then(function(e){return t.store(z,e),e}))}function f(e){var a=n.defer();return d().then(function(n){var t=_.find(n.data.classes,function(a){return e===a.id}),r=t.name.replace(/\s/g,"").toLowerCase(),i="class_"+r;return t.iconLink=function(e){return o.zamIconLink(i,e)},t.cssClass="class-"+r,a.resolve({data:{"class":t}})}),a.promise}function h(e,a){var t=n.defer(),r="male";return 1===a&&(r="female"),m().then(function(a){var n=_.find(a.data.races,function(a){return e===a.id}),i=n.name.replace(/\s/g,"").toLowerCase();"undead"===i&&(i="scourge");var l="race_"+i+"_"+r;return n.iconLink=function(e){return o.zamIconLink(l,e)},t.resolve({data:{race:n}})}),t.promise}function b(e){var a=n.defer(),t=_.find(l.class,function(a){return a.specs.indexOf(e)>=0}),r=t.specs.indexOf(e);return g().then(function(e){var n=e.data[t.blizzId].specs[r];return n.iconLink=function(e){return o.zamIconLink(n.icon,e)},a.resolve({data:{spec:n}})}),a.promise}function v(e,a){return p(s.route(s.wow.pvp.leaderboard,{bracket:e.enumVal}),a)}var y=0,k="classes",w="races",z="talents";return{getClasses:d,getRaces:m,getTalents:g,getClass:f,getRace:h,getSpec:b,getPvpLeaderboard:v}}angular.module("app.services").factory("wowService",e),e.$inject=["$http","$q","cache","promiseProvider","iconProvider","globalConstants","globalEnum","api","logger"]}(),function(){"use strict";function e(a,n){function t(){a.debug(e,t,"Initializing..."),r.regions=_.values(n.region),r.region=r.regions[0],r.brackets=_.values(n.bracket),r.bracket=r.brackets[0],r.filters={visible:!1},r.outputFilters.test="test"}var r=this;t()}angular.module("app.rankings").controller("PvpFiltersController",e),e.$inject=["logger","globalEnum"]}(),function(){"use strict";function e(a){function n(){a.debug(e,n,"Configuring.")}return{restrict:"E",templateUrl:"/app/components/rankings/pvpFilters/pvpFiltersTemplate.html",replace:!0,controller:"PvpFiltersController",controllerAs:"vm",bindToController:!0,scope:{region:"=",bracket:"=",outputFilters:"=filters"},link:n}}angular.module("app.rankings").directive("pvpFilters",e),e.$inject=["logger"]}(),function(){"use strict";function e(a,n,t,r,o){function i(){o.debug(e,i,"Initializing."),c.loadingCount=0,c.headerText=c.bracket.displayLong+" - "+c.region.displayLong,c.sortByOpt={key:null,isAscending:!0},c.pageNumber=1,c.pageSize=c.optionalPageSize,c.pageSize||(c.pageSize=5),c.loadingCount++,n.getPvpLeaderboard(c.bracket,c.region).then(function(e){c.leaderboard=e.data.rows,c.sortBy(c.headers[0].key),c.loadingCount--}),c.loadingCount++,_.delay(function(){a.$apply(function(){c.loadingCount--})},2e3)}function l(){c.pageData=[];var a=1,r=Math.ceil(c.leaderboard.length/c.pageSize);(c.pageNumber<a||c.pageNumber>r)&&(o.warn(e,l,"Invalid page number: "+c.pageNumber+". Clamping to array edge."),c.pageNumber=Math.min(Math.max(c.pageNumber,a),r)),c.startIndex=Math.max((c.pageNumber-1)*c.pageSize,0),c.endIndex=Math.min(c.pageNumber*c.pageSize,c.leaderboard.length);var i=c.leaderboard.slice(c.startIndex,c.endIndex);_.forEach(i,function(e){var a={ranking:e.ranking,name:e.name,realm:e.realmName,factionIconLink:t.factionIconLink(e.factionId,u),factionDisplay:0===e.factionId?"Alliance":"Horde",wins:e.seasonWins,losses:e.seasonLosses,rating:e.rating};c.loadingCount++,n.getClass(e.classId).then(function(e){a.classIconLink=e.data.class.iconLink(u),a.classDisplay=e.data.class.name,a.classCssClass=e.data.class.cssClass,c.loadingCount--}),c.loadingCount++,n.getRace(e.raceId,e.genderId).then(function(e){a.raceIconLink=e.data.race.iconLink(u),a.raceDisplay=e.data.race.name,c.loadingCount--}),c.loadingCount++,n.getSpec(e.specId).then(function(e){a.specIconLink=e.data.spec.iconLink(u),a.specDisplay=e.data.spec.name,c.loadingCount--}),c.pageData.push(a)})}function s(a){c.sortByOpt.isAscending=a===c.sortByOpt.key?!c.sortByOpt.isAscending:!0,c.sortByOpt.key=a,c.leaderboard=_.sortBy(c.leaderboard,"name"),c.leaderboard=_.sortBy(c.leaderboard,c.sortByOpt.key),c.sortByOpt.isAscending||c.leaderboard.reverse(),o.debug(e,s,'Sorting by "'+a+'" ('+c.sortByOpt.isAscending+")."),c.loadPage()}var c=this;c.loadPage=l,c.sortBy=s,c.headers=[{display:"#",key:"ranking"},{display:"Class",key:"classId"},{display:"Spec",key:"specId"},{display:"Race",key:"raceId"},{display:"Player",key:"name",cssClass:"col-md-2"},{display:"Realm",key:"realmName",cssClass:"col-md-2"},{display:"Faction",key:"factionId"},{display:"Wins",key:"seasonWins"},{display:"Losses",key:"seasonLosses"},{display:"Rating",key:"rating"}];var u=r.iconSize.Small;i()}angular.module("app.rankings").controller("PvpRankingsController",e),e.$inject=["$scope","wowService","iconProvider","globalEnum","logger"]}(),function(){"use strict";function e(a){function n(){a.debug(e,n,"Configuring.")}return{restrict:"E",templateUrl:"/app/components/rankings/pvpRankings/pvpRankingsTemplate.html",replace:!0,controller:"PvpRankingsController",controllerAs:"vm",bindToController:!0,scope:{bracket:"=",region:"=",optionalPageSize:"=pageSize"},link:n}}angular.module("app.rankings").directive("pvpRankings",e),e.$inject=["logger"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJjb21wb25lbnRzXFxob21lXFxhcHAuaG9tZS5tb2R1bGUuanMiLCJjb21wb25lbnRzXFxyYW5raW5nc1xcYXBwLnJhbmtpbmdzLm1vZHVsZS5qcyIsInNoYXJlZFxcY29tbW9uXFxhcHAuY29tbW9uLm1vZHVsZS5qcyIsInNoYXJlZFxcZGlyZWN0aXZlc1xcYXBwLmRpcmVjdGl2ZXMubW9kdWxlLmpzIiwic2hhcmVkXFxmaWx0ZXJzXFxhcHAuZmlsdGVycy5tb2R1bGUuanMiLCJzaGFyZWRcXHByb3ZpZGVyc1xcYXBwLnByb3ZpZGVycy5tb2R1bGUuanMiLCJzaGFyZWRcXHNlcnZpY2VzXFxhcHAuc2VydmljZXMubW9kdWxlLmpzIiwiYXBwLmNvbmZpZy5qcyIsImNvbXBvbmVudHNcXGhvbWVcXGFwcC5ob21lLmNvbmZpZy5qcyIsImNvbXBvbmVudHNcXHJhbmtpbmdzXFxhcHAucmFua2luZ3MuY29uZmlnLmpzIiwic2hhcmVkXFxjb21tb25cXGFwcC5jb21tb24uY29uZmlnLmpzIiwic2hhcmVkXFxkaXJlY3RpdmVzXFxhcHAuZGlyZWN0aXZlcy5jb25maWcuanMiLCJzaGFyZWRcXGZpbHRlcnNcXGFwcC5maWx0ZXJzLmNvbmZpZy5qcyIsInNoYXJlZFxccHJvdmlkZXJzXFxhcHAucHJvdmlkZXJzLmNvbmZpZy5qcyIsInNoYXJlZFxcc2VydmljZXNcXGFwcC5zZXJ2aWNlcy5jb25maWcuanMiLCJjb21wb25lbnRzXFxob21lXFxob21lQ29udHJvbGxlci5qcyIsInNoYXJlZFxcYXBwX2xheW91dFxcY29udGVudENvbnRyb2xsZXIuanMiLCJzaGFyZWRcXGFwcF9sYXlvdXRcXGZvb3RlckNvbnRyb2xsZXIuanMiLCJzaGFyZWRcXGFwcF9sYXlvdXRcXG5hdkNvbnRyb2xsZXIuanMiLCJzaGFyZWRcXGFwcF9sYXlvdXRcXHNpZGViYXJDb250cm9sbGVyLmpzIiwic2hhcmVkXFxjb21tb25cXGFwaS5qcyIsInNoYXJlZFxcY29tbW9uXFxjYWNoZS5qcyIsInNoYXJlZFxcY29tbW9uXFxnbG9iYWxDb25zdGFudHMuanMiLCJzaGFyZWRcXGNvbW1vblxcZ2xvYmFsRW51bS5qcyIsInNoYXJlZFxccHJvdmlkZXJzXFxpY29uUHJvdmlkZXIuanMiLCJzaGFyZWRcXHByb3ZpZGVyc1xcbG9nZ2VyLmpzIiwic2hhcmVkXFxwcm92aWRlcnNcXHByb21pc2VQcm92aWRlci5qcyIsInNoYXJlZFxcc2VydmljZXNcXHdvd1NlcnZpY2UuanMiLCJjb21wb25lbnRzXFxyYW5raW5nc1xccHZwRmlsdGVyc1xccHZwRmlsdGVyc0NvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzXFxyYW5raW5nc1xccHZwRmlsdGVyc1xccHZwRmlsdGVyc0RpcmVjdGl2ZS5qcyIsImNvbXBvbmVudHNcXHJhbmtpbmdzXFxwdnBSYW5raW5nc1xccHZwUmFua2luZ3NDb250cm9sbGVyLmpzIiwiY29tcG9uZW50c1xccmFua2luZ3NcXHB2cFJhbmtpbmdzXFxwdnBSYW5raW5nc0RpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBRUEsU0FBQSxPQUFBLE9BQ0EsZUFDQSxZQUNBLGFBQ0EsZ0JBQ0EsaUJBQ0EsZUFDQSxXQUNBLG9CQ1hBLFdBQ0EsWUFFQSxTQUFBLE9BQUEsa0JDSEEsV0FDQSxZQUVBLFNBQUEsT0FBQSxzQkNIQSxXQUNBLFlBRUEsU0FBQSxPQUFBLG9CQ0hBLFdBQ0EsWUFFQSxTQUFBLE9BQUEsd0JDSEEsV0FDQSxZQUVBLFNBQUEsT0FBQSxxQkNIQSxXQUNBLFlBRUEsU0FBQSxPQUFBLHVCQ0hBLFdBQ0EsWUFFQSxTQUFBLE9BQUEsc0JDSEEsV0FDQSxZQVFBLFNBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLGNBQUEsR0FFQSxFQUFBLFVBQUEsU0FFQSxFQUNBLE1BQUEsT0FDQSxZQUFBLEVBQ0EsT0FDQSxLQUNBLFlBQUEsMENBQ0EsV0FBQSxnQkFDQSxhQUFBLE1BRUEsSUFDQSxZQUFBLDhDQUNBLFdBQUEsb0JBQ0EsYUFBQSxNQUVBLFNBQ0EsWUFBQSw4Q0FDQSxXQUFBLG9CQUNBLGFBQUEsTUFFQSxRQUNBLFlBQUEsNkNBQ0EsV0FBQSxtQkFDQSxhQUFBLFNBakNBLEdBQUEsR0FBQSxRQUFBLE9BQUEsTUFFQSxHQUFBLE9BQUEsR0FFQSxFQUFBLFNBQUEsZUFBQSxpQkFBQSxzQkFvQ0EsRUFBQSxLQUFBLGFBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxzQkFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE1BQUEsRUFBQSxNQUNBLEVBQUEsUUFBQSxFQUFBLGdCQzlDQSxXQUNBLFlBTUEsU0FBQSxHQUFBLEdBQ0EsRUFDQSxNQUFBLFlBQ0EsSUFBQSxRQUNBLFlBQUEscUNBQ0EsV0FBQSxpQkFDQSxhQUFBLEtBQ0EsTUFBQSxPQUNBLFFBQUEsU0FaQSxRQUFBLE9BQUEsWUFBQSxPQUFBLEdBRUEsRUFBQSxTQUFBLHFCQ0xBLFdBQ0EsWUFNQSxTQUFBLE1BSkEsUUFBQSxPQUFBLGdCQUFBLE9BQUEsR0FFQSxFQUFBLGNDTEEsV0FDQSxZQU1BLFNBQUEsTUFKQSxRQUFBLE9BQUEsY0FBQSxPQUFBLEdBRUEsRUFBQSxjQ0xBLFdBQ0EsWUFNQSxTQUFBLE1BSkEsUUFBQSxPQUFBLGtCQUFBLE9BQUEsR0FFQSxFQUFBLGNDTEEsV0FDQSxZQU1BLFNBQUEsTUFKQSxRQUFBLE9BQUEsZUFBQSxPQUFBLEdBRUEsRUFBQSxjQ0xBLFdBQ0EsWUFNQSxTQUFBLE1BSkEsUUFBQSxPQUFBLGlCQUFBLE9BQUEsR0FFQSxFQUFBLGNDTEEsV0FDQSxZQU1BLFNBQUEsTUFKQSxRQUFBLE9BQUEsZ0JBQUEsT0FBQSxHQUVBLEVBQUEsY0NMQSxXQUNBLFlBTUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBTUEsUUFBQSxLQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsbUJBTkEsR0FBQSxHQUFBLElBQ0EsR0FBQSxXQUFBLEVBRUEsSUFSQSxRQUFBLE9BQUEsWUFBQSxXQUFBLGlCQUFBLEdBRUEsRUFBQSxTQUFBLFNBQUEsZUFBQSxhQUFBLGFBQUEsWUNMQSxXQUNBLFlBTUEsU0FBQSxHQUFBLEdBS0EsUUFBQSxLQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsbUJBSEEsSUFQQSxRQUFBLE9BQUEsT0FBQSxXQUFBLG9CQUFBLEdBRUEsRUFBQSxTQUFBLGFDTEEsV0FDQSxZQU1BLFNBQUEsR0FBQSxHQUtBLFFBQUEsS0FDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLG1CQUhBLElBUEEsUUFBQSxPQUFBLE9BQUEsV0FBQSxtQkFBQSxHQUVBLEVBQUEsU0FBQSxhQ0xBLFdBQ0EsWUFNQSxTQUFBLEdBQUEsR0FLQSxRQUFBLEtBQ0EsRUFBQSxNQUFBLEVBQUEsRUFBQSxtQkFIQSxJQVBBLFFBQUEsT0FBQSxPQUFBLFdBQUEsZ0JBQUEsR0FFQSxFQUFBLFNBQUEsYUNMQSxXQUNBLFlBTUEsU0FBQSxHQUFBLEdBS0EsUUFBQSxLQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsbUJBSEEsSUFQQSxRQUFBLE9BQUEsT0FBQSxXQUFBLG9CQUFBLEdBRUEsRUFBQSxTQUFBLGFDTEEsV0FDQSxZQU1BLFNBQUEsS0FtQkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUdBLEdBRkEsRUFBQSxFQUFBLEVBRUEsRUFJQSxJQUFBLEdBRkEsR0FEQSxFQUFBLE9BQUEsS0FBQSxHQUdBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsR0FJQSxJQUFBLEVBSUEsSUFBQSxHQUZBLEdBQUEsRUFEQSxFQUFBLE9BQUEsS0FBQSxHQUdBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLElBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUlBLE9BQUEsR0ExQ0EsR0FBQSxHQUFBLE9BQ0EsRUFBQSxPQUNBLEVBQUEsRUFBQSxPQUVBLFFBQ0EsS0FDQSxNQUNBLFFBQUEsRUFBQSxxQkFDQSxNQUFBLEVBQUEsbUJBQ0EsUUFBQSxFQUFBLFlBRUEsS0FDQSxZQUFBLDhCQUdBLE1BQUEsR0FwQkEsUUFBQSxPQUFBLGNBQUEsUUFBQSxNQUFBLEdBRUEsRUFBQSxjQ0xBLFdBQ0EsWUFNQSxTQUFBLEdBQUEsRUFBQSxHQUlBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxJQUtBLEVBQUEsVUFBQSxTQUFBLGNBQ0EsYUFBQSxRQUFBLEVBQUEsS0FBQSxVQUFBLElBRUEsRUFBQSxNQUFBLEVBQUEsRUFBQSw2QkFBQSxFQUFBLE1BSEEsU0FKQSxFQUFBLE1BQUEsRUFBQSxFQUFBLHFCQUNBLFFBU0EsUUFBQSxHQUFBLEdBQ0EsSUFBQSxFQUVBLE1BREEsR0FBQSxNQUFBLEVBQUEsRUFBQSxxQkFDQSxNQUlBLElBQUEsR0FBQSxLQUFBLE1BQUEsYUFBQSxRQUFBLEdBQ0EsS0FBQSxFQUFBLE1BQUEsS0FHQSxJQUFBLEdBQUEsT0FBQSxFQUFBLFdBQ0EsRUFBQSxRQUVBLElBQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLGNBRUEsTUFEQSxjQUFBLFdBQUEsR0FDQSxJQUlBLElBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUdBLGNBRkEsR0FBQSxVQUVBLEVBTUEsT0FDQSxNQUFBLEVBQ0EsS0FBQSxHQW5EQSxRQUFBLE9BQUEsY0FBQSxRQUFBLFFBQUEsR0FFQSxFQUFBLFNBQUEsa0JBQUEsYUNMQSxXQUNBLFlBRUEsSUFBQSxHQUFBLFFBQUEsT0FBQSxjQUtBLEVBQUEsc0NBQ0EsRUFBQSx5Q0FFQSxHQUNBLGlCQUFBLEVBQ0EsZUFBQSxFQUNBLGFBQUEsdUJBQ0EsYUFBQSx1QkFDQSxjQUFBLEdBR0EsR0FBQSxTQUNBLGtCQUFBLE1DcEJBLFdBQ0EsWUFFQSxJQUFBLEdBQUEsUUFBQSxPQUFBLGFBV0EsR0FBQSxTQUNBLGNBQ0EsUUFDQSxJQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLEtBQ0EsUUFBQSxLQUNBLFlBQUEsVUFFQSxJQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLEtBQ0EsUUFBQSxLQUNBLFlBQUEsa0JBSUEsVUFDQSxLQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLE1BQ0EsUUFBQSxPQUVBLEtBQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsTUFDQSxRQUFBLFFBSUEsU0FDQSxVQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLFdBQ0EsUUFBQSxXQUNBLFFBQUEsR0FFQSxPQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLFFBQ0EsUUFBQSxRQUNBLFFBQUEsSUFJQSxRQUNBLE1BQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsT0FDQSxRQUFBLE9BQ0EsUUFBQSxHQUVBLFFBQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsU0FDQSxRQUFBLFNBQ0EsUUFBQSxJQUlBLE1BQ0EsT0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxRQUNBLFFBQUEsUUFDQSxRQUFBLEdBRUEsS0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxNQUNBLFFBQUEsTUFDQSxRQUFBLEdBRUEsT0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxRQUNBLFFBQUEsUUFDQSxRQUFBLEdBRUEsVUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxXQUNBLFFBQUEsWUFDQSxRQUFBLEdBRUEsUUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxTQUNBLFFBQUEsU0FDQSxRQUFBLEdBRUEsUUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxTQUNBLFFBQUEsU0FDQSxRQUFBLEdBRUEsT0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxRQUNBLFFBQUEsUUFDQSxRQUFBLEdBRUEsT0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxRQUNBLFFBQUEsUUFDQSxRQUFBLEdBRUEsUUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxTQUNBLFFBQUEsU0FDQSxRQUFBLEdBRUEsVUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxXQUNBLFFBQUEsWUFDQSxRQUFBLElBRUEsU0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLElBQ0EsUUFBQSxVQUNBLFFBQUEsVUFDQSxRQUFBLElBRUEsUUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLElBQ0EsUUFBQSxTQUNBLFFBQUEsU0FDQSxRQUFBLElBRUEsaUJBQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxJQUNBLFFBQUEsa0JBQ0EsUUFBQSxtQkFDQSxRQUFBLElBRUEsa0JBQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxJQUNBLFFBQUEsbUJBQ0EsUUFBQSxvQkFDQSxRQUFBLElBRUEsZUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLElBQ0EsUUFBQSxnQkFDQSxRQUFBLGlCQUNBLFFBQUEsS0FJQSxTQUNBLFNBQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsVUFDQSxRQUFBLFVBQ0EsUUFBQSxFQUNBLE9BQUEsR0FBQSxHQUFBLEtBRUEsU0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxVQUNBLFFBQUEsVUFDQSxRQUFBLEVBQ0EsT0FBQSxHQUFBLEdBQUEsS0FFQSxRQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLFNBQ0EsUUFBQSxTQUNBLFFBQUEsRUFDQSxPQUFBLElBQUEsSUFBQSxNQUVBLE9BQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsUUFDQSxRQUFBLFFBQ0EsUUFBQSxFQUNBLE9BQUEsSUFBQSxJQUFBLE1BRUEsUUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxTQUNBLFFBQUEsU0FDQSxRQUFBLEVBQ0EsT0FBQSxJQUFBLElBQUEsTUFFQSxhQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLGNBQ0EsUUFBQSxlQUNBLFFBQUEsRUFDQSxPQUFBLElBQUEsSUFBQSxNQUVBLFFBQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsU0FDQSxRQUFBLFNBQ0EsUUFBQSxFQUNBLE9BQUEsSUFBQSxJQUFBLE1BRUEsTUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxPQUNBLFFBQUEsT0FDQSxRQUFBLEVBQ0EsT0FBQSxHQUFBLEdBQUEsS0FFQSxTQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLFVBQ0EsUUFBQSxVQUNBLFFBQUEsRUFDQSxPQUFBLElBQUEsSUFBQSxNQUVBLE1BQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsT0FDQSxRQUFBLE9BQ0EsUUFBQSxHQUNBLE9BQUEsSUFBQSxJQUFBLE1BRUEsT0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLElBQ0EsUUFBQSxRQUNBLFFBQUEsUUFDQSxRQUFBLEdBQ0EsT0FBQSxJQUFBLElBQUEsSUFBQSxPQUlBLFNBQ0EsVUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxNQUNBLFFBQUEsTUFDQSxZQUFBLGFBRUEsY0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxNQUNBLFFBQUEsTUFDQSxZQUFBLGFBRUEsWUFDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxNQUNBLFFBQUEsTUFDQSxZQUFBLGFBRUEsS0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxNQUNBLFFBQUEsTUFDQSxZQUFBLHdCQUlBLFVBQ0EsT0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxRQUNBLFFBQUEsU0FFQSxRQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLFNBQ0EsUUFBQSxVQUVBLE9BQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsUUFDQSxRQUFBLFVBSUEsY0FDQSxTQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLFVBQ0EsUUFBQSxXQUVBLE9BQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsUUFDQSxRQUFBLFNBRUEsT0FDQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsUUFBQSxRQUNBLFFBQUEsU0FFQSxRQUNBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxRQUFBLFNBQ0EsUUFBQSxVQUVBLGNBQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsZUFDQSxRQUFBLGdCQUVBLFFBQ0EsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLFFBQUEsU0FDQSxRQUFBLGdCQ2pVQSxXQUNBLFlBTUEsU0FBQSxHQUFBLEVBQUEsR0FlQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxpQkFDQSxJQUFBLEVBQUEsRUFBQSxRQUFBLGVBQ0EsSUFBQSxFQUFBLEVBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsZUFDQSxJQUFBLEVBQUEsUUFBQSxjQUNBLElBQUEsRUFBQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLFVBQ0EsS0FBQSxJQUNBLEVBQUEsUUFHQSxJQUFBLEdBQUEsV0FBQSxFQUFBLGFBRUEsT0FBQSxHQUFBLEVBQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxNQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsRUFBQSxVQUdBLEVBQUEsRUFBQSxNQUFBLEdBQUEsUUFDQSxFQUFBLFNBQUEsRUFBQSxhQUVBLE9BQUEsR0FBQSxFQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsRUFBQSxVQUdBLEVBQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxLQUFBLEVBQUEsVUFHQSxFQUFBLEVBQUEsS0FBQSxHQUFBLFFBQ0EsRUFBQSxFQUFBLE9BQUEsR0FBQSxRQUNBLEVBQUEsUUFBQSxFQUFBLGNBQUEsSUFBQSxDQUVBLE9BQUEsR0FBQSxFQUFBLEdBMURBLEdBQUEsSUFDQSxNQUFBLEdBQ0EsT0FBQSxHQUNBLE1BQUEsSUFHQSxFQUFBLE1BMERBLFFBQ0EsY0FBQSxFQUNBLFlBQUEsRUFDQSxnQkFBQSxFQUNBLGNBQUEsRUFDQSxhQUFBLEdBN0VBLFFBQUEsT0FBQSxpQkFBQSxRQUFBLGVBQUEsR0FFQSxFQUFBLFNBQUEsa0JBQUEsYUFBQSxhQ0xBLFdBQ0EsWUFNQSxTQUFBLEdBQUEsR0FJQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLElBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxJQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsSUFHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLElBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxJQU1BLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsS0FBQSxPQUFBLEVBTUEsT0FDQSxNQUFBLEVBQ0EsTUFBQSxFQUNBLEtBQUEsRUFDQSxJQUFBLEVBQ0EsS0FBQSxHQTNDQSxRQUFBLE9BQUEsaUJBQUEsUUFBQSxTQUFBLEdBRUEsRUFBQSxTQUFBLFdDTEEsV0FDQSxZQU1BLFNBQUEsR0FBQSxHQUlBLFFBQUEsR0FBQSxHQVdBLE1BVkEsR0FBQSxRQUFBLFFBQUEsU0FBQSxHQUVBLE1BREEsR0FBQSxRQUFBLEtBQUEsRUFBQSxNQUNBLEVBQUEsU0FHQSxFQUFBLFFBQUEsTUFBQSxTQUFBLEdBRUEsTUFEQSxHQUFBLFFBQUEsS0FBQSxLQUFBLEdBQ0EsRUFBQSxTQUdBLEVBTUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxPQVFBLE9BUEEsR0FDQSxFQUFBLE9BQUEsR0FFQSxFQUFBLFFBQUEsR0FHQSxFQUFBLEdBQ0EsRUFBQSxRQU1BLE9BQ0EsZUFBQSxHQXpDQSxRQUFBLE9BQUEsaUJBQUEsUUFBQSxrQkFBQSxHQUVBLEVBQUEsU0FBQSxLQUFBLGFDTEEsV0FDQSxZQU1BLFNBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FTQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEtBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxhQUlBLEVBQUEsYUFHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFnQkEsT0FkQSxHQUFBLE1BQ0EsRUFBQSxRQUFBLE9BQUEsR0FHQSxTQUFBLHNCQUFBLEVBQ0EsTUFBQSxrQkFFQSxJQUdBLFlBQUEsS0FBQSxVQUNBLEdBQUEsU0FHQSxFQUFBLE1BQUEsRUFBQSxHQUFBLE9BQUEsSUFhQSxRQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUVBLE9BQUEsSUFDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLDBCQUNBLEVBQUEsZUFBQSxLQUdBLEVBQUEsTUFBQSxFQUFBLEVBQUEsb0JBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEtBQUEsVUFDQSxLQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsTUFBQSxFQUFBLEdBQ0EsS0FJQSxRQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUNBLE9BQUEsSUFDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLDBCQUNBLEVBQUEsZUFBQSxLQUdBLEVBQUEsTUFBQSxFQUFBLEVBQUEsb0JBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEtBQUEsUUFDQSxLQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsTUFBQSxFQUFBLEdBQ0EsS0FJQSxRQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUNBLE9BQUEsSUFDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLDBCQUNBLEVBQUEsZUFBQSxLQUdBLEVBQUEsTUFBQSxFQUFBLEVBQUEsb0JBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEtBQUEsVUFDQSxLQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsTUFBQSxFQUFBLEdBQ0EsS0FJQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxPQW9CQSxPQWxCQSxLQUNBLEtBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLFFBQUEsU0FBQSxHQUNBLE1BQUEsS0FBQSxFQUFBLEtBR0EsRUFBQSxFQUFBLEtBQUEsUUFBQSxNQUFBLElBQUEsY0FDQSxFQUFBLFNBQUEsQ0FNQSxPQUxBLEdBQUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFlBQUEsRUFBQSxJQUVBLEVBQUEsU0FBQSxTQUFBLEVBRUEsRUFBQSxTQUNBLE1BQUEsUUFBQSxPQUlBLEVBQUEsUUFHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBRUEsRUFBQSxNQTBCQSxPQXpCQSxLQUFBLElBQ0EsRUFBQSxVQUdBLElBQ0EsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsTUFBQSxTQUFBLEdBQ0EsTUFBQSxLQUFBLEVBQUEsS0FHQSxFQUFBLEVBQUEsS0FBQSxRQUFBLE1BQUEsSUFBQSxhQUNBLFlBQUEsSUFDQSxFQUFBLFVBR0EsSUFBQSxHQUFBLFFBQUEsRUFBQSxJQUFBLENBS0EsT0FKQSxHQUFBLFNBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxZQUFBLEVBQUEsSUFHQSxFQUFBLFNBQ0EsTUFBQSxLQUFBLE9BSUEsRUFBQSxRQUdBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBRUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsTUFBQSxRQUFBLElBQUEsSUFFQSxFQUFBLEVBQUEsTUFBQSxRQUFBLEVBY0EsT0FaQSxLQUNBLEtBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxTQUFBLE1BQUEsRUFLQSxPQUpBLEdBQUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFlBQUEsRUFBQSxLQUFBLElBR0EsRUFBQSxTQUNBLE1BQUEsS0FBQSxPQUlBLEVBQUEsUUFHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLElBQUEsYUFBQSxRQUFBLEVBQUEsVUFBQSxHQTFLQSxHQUFBLEdBQUEsRUFxQ0EsRUFBQSxVQUNBLEVBQUEsUUFDQSxFQUFBLFNBeUlBLFFBQ0EsV0FBQSxFQUNBLFNBQUEsRUFDQSxXQUFBLEVBQ0EsU0FBQSxFQUNBLFFBQUEsRUFDQSxRQUFBLEVBQ0Esa0JBQUEsR0EvTEEsUUFBQSxPQUFBLGdCQUFBLFFBQUEsYUFBQSxHQUVBLEVBQUEsU0FBQSxRQUFBLEtBQUEsUUFBQSxrQkFBQSxlQUFBLGtCQUFBLGFBQUEsTUFBQSxhQ0xBLFdBQ0EsWUFNQSxTQUFBLEdBQUEsRUFBQSxHQVlBLFFBQUEsS0FDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLG1CQUdBLEVBQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxRQUNBLEVBQUEsT0FBQSxFQUFBLFFBQUEsR0FFQSxFQUFBLFNBQUEsRUFBQSxPQUFBLEVBQUEsU0FDQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEdBR0EsRUFBQSxTQUNBLFNBQUEsR0FHQSxFQUFBLGNBQUEsS0FBQSxPQTFCQSxHQUFBLEdBQUEsSUFTQSxLQWRBLFFBQUEsT0FBQSxnQkFBQSxXQUFBLHVCQUFBLEdBRUEsRUFBQSxTQUFBLFNBQUEsaUJDTEEsV0FDQSxZQU1BLFNBQUEsR0FBQSxHQWdCQSxRQUFBLEtBQ0EsRUFBQSxNQUFBLEVBQUEsRUFBQSxnQkFoQkEsT0FDQSxTQUFBLElBQ0EsWUFBQSw4REFDQSxTQUFBLEVBQ0EsV0FBQSx1QkFDQSxhQUFBLEtBQ0Esa0JBQUEsRUFDQSxPQUNBLE9BQUEsSUFDQSxRQUFBLElBQ0EsY0FBQSxZQUVBLEtBQUEsR0FqQkEsUUFBQSxPQUFBLGdCQUFBLFVBQUEsYUFBQSxHQUVBLEVBQUEsU0FBQSxhQ0xBLFdBQ0EsWUFNQSxTQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQWtEQSxRQUFBLEtBQ0EsRUFBQSxNQUFBLEVBQUEsRUFBQSxpQkFDQSxFQUFBLGFBQUEsRUFHQSxFQUFBLFdBQUEsRUFBQSxRQUFBLFlBQUEsTUFBQSxFQUFBLE9BQUEsWUFHQSxFQUFBLFdBQ0EsSUFBQSxLQUNBLGFBQUEsR0FJQSxFQUFBLFdBQUEsRUFDQSxFQUFBLFNBQUEsRUFBQSxpQkFDQSxFQUFBLFdBQ0EsRUFBQSxTQUFBLEdBSUEsRUFBQSxlQUNBLEVBQUEsa0JBQUEsRUFBQSxRQUFBLEVBQUEsUUFDQSxLQUFBLFNBQUEsR0FDQSxFQUFBLFlBQUEsRUFBQSxLQUFBLEtBQ0EsRUFBQSxPQUFBLEVBQUEsUUFBQSxHQUFBLEtBQ0EsRUFBQSxpQkFJQSxFQUFBLGVBQ0EsRUFBQSxNQUFBLFdBQ0EsRUFBQSxPQUFBLFdBQ0EsRUFBQSxrQkFFQSxLQU1BLFFBQUEsS0FDQSxFQUFBLFdBRUEsSUFBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLEtBQUEsRUFBQSxZQUFBLE9BQUEsRUFBQSxXQUNBLEVBQUEsV0FBQSxHQUFBLEVBQUEsV0FBQSxLQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsd0JBQUEsRUFBQSxXQUFBLDZCQUNBLEVBQUEsV0FBQSxLQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsV0FBQSxHQUFBLElBR0EsRUFBQSxXQUFBLEtBQUEsS0FBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsS0FBQSxJQUFBLEVBQUEsV0FBQSxFQUFBLFNBQUEsRUFBQSxZQUFBLE9BQ0EsSUFBQSxHQUFBLEVBQUEsWUFBQSxNQUFBLEVBQUEsV0FBQSxFQUFBLFNBRUEsR0FBQSxRQUFBLEVBQUEsU0FBQSxHQUNBLEdBQUEsSUFDQSxRQUFBLEVBQUEsUUFDQSxLQUFBLEVBQUEsS0FDQSxNQUFBLEVBQUEsVUFDQSxnQkFBQSxFQUFBLGdCQUFBLEVBQUEsVUFBQSxHQUNBLGVBQUEsSUFBQSxFQUFBLFVBQUEsV0FBQSxRQUNBLEtBQUEsRUFBQSxXQUNBLE9BQUEsRUFBQSxhQUNBLE9BQUEsRUFBQSxPQUdBLEdBQUEsZUFDQSxFQUFBLFNBQUEsRUFBQSxTQUNBLEtBQUEsU0FBQSxHQUNBLEVBQUEsY0FBQSxFQUFBLEtBQUEsTUFBQSxTQUFBLEdBQ0EsRUFBQSxhQUFBLEVBQUEsS0FBQSxNQUFBLEtBQ0EsRUFBQSxjQUFBLEVBQUEsS0FBQSxNQUFBLFNBQ0EsRUFBQSxpQkFHQSxFQUFBLGVBQ0EsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLFVBQ0EsS0FBQSxTQUFBLEdBQ0EsRUFBQSxhQUFBLEVBQUEsS0FBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLFlBQUEsRUFBQSxLQUFBLEtBQUEsS0FDQSxFQUFBLGlCQUdBLEVBQUEsZUFDQSxFQUFBLFFBQUEsRUFBQSxRQUNBLEtBQUEsU0FBQSxHQUNBLEVBQUEsYUFBQSxFQUFBLEtBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxZQUFBLEVBQUEsS0FBQSxLQUFBLEtBQ0EsRUFBQSxpQkFHQSxFQUFBLFNBQUEsS0FBQSxLQUlBLFFBQUEsR0FBQSxHQUVBLEVBQUEsVUFBQSxZQURBLElBQUEsRUFBQSxVQUFBLEtBQ0EsRUFBQSxVQUFBLGFBRUEsRUFHQSxFQUFBLFVBQUEsSUFBQSxFQUVBLEVBQUEsWUFBQSxFQUFBLE9BQUEsRUFBQSxZQUFBLFFBQ0EsRUFBQSxZQUFBLEVBQUEsT0FBQSxFQUFBLFlBQUEsRUFBQSxVQUFBLEtBQ0EsRUFBQSxVQUFBLGFBQUEsRUFBQSxZQUFBLFVBRUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxlQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsWUFBQSxNQUNBLEVBQUEsV0EvSkEsR0FBQSxHQUFBLElBR0EsR0FBQSxTQUFBLEVBQ0EsRUFBQSxPQUFBLEVBR0EsRUFBQSxVQUNBLFFBQUEsSUFDQSxJQUFBLFlBRUEsUUFBQSxRQUNBLElBQUEsWUFFQSxRQUFBLE9BQ0EsSUFBQSxXQUVBLFFBQUEsT0FDQSxJQUFBLFdBRUEsUUFBQSxTQUNBLElBQUEsT0FDQSxTQUFBLGFBRUEsUUFBQSxRQUNBLElBQUEsWUFDQSxTQUFBLGFBRUEsUUFBQSxVQUNBLElBQUEsY0FFQSxRQUFBLE9BQ0EsSUFBQSxlQUVBLFFBQUEsU0FDQSxJQUFBLGlCQUVBLFFBQUEsU0FDQSxJQUFBLFVBSUEsSUFBQSxHQUFBLEVBQUEsU0FBQSxLQUtBLEtBcERBLFFBQUEsT0FBQSxnQkFBQSxXQUFBLHdCQUFBLEdBRUEsRUFBQSxTQUFBLFNBQUEsYUFBQSxlQUFBLGFBQUEsYUNMQSxXQUNBLFlBTUEsU0FBQSxHQUFBLEdBZ0JBLFFBQUEsS0FDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLGdCQWhCQSxPQUNBLFNBQUEsSUFDQSxZQUFBLGdFQUNBLFNBQUEsRUFDQSxXQUFBLHdCQUNBLGFBQUEsS0FDQSxrQkFBQSxFQUNBLE9BQ0EsUUFBQSxJQUNBLE9BQUEsSUFDQSxpQkFBQSxhQUVBLEtBQUEsR0FqQkEsUUFBQSxPQUFBLGdCQUFBLFVBQUEsY0FBQSxHQUVBLEVBQUEsU0FBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcclxuICAgICAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICAgICAndWkucm91dGVyJyxcclxuICAgICAgICAnYXBwLmNvbW1vbicsXHJcbiAgICAgICAgJ2FwcC5wcm92aWRlcnMnLFxyXG4gICAgICAgICdhcHAuZGlyZWN0aXZlcycsXHJcbiAgICAgICAgJ2FwcC5zZXJ2aWNlcycsXHJcbiAgICAgICAgJ2FwcC5ob21lJyxcclxuICAgICAgICAnYXBwLnJhbmtpbmdzJ1xyXG4gICAgXSk7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5ob21lJywgW1xyXG5cclxuICAgIF0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucmFua2luZ3MnLCBbXHJcblxyXG4gICAgXSk7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5jb21tb24nLCBbXHJcblxyXG4gICAgXSk7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5kaXJlY3RpdmVzJywgW1xyXG5cclxuICAgIF0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuZmlsdGVycycsIFtcclxuXHJcbiAgICBdKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLnByb3ZpZGVycycsIFtcclxuXHJcbiAgICBdKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLnNlcnZpY2VzJywgW1xyXG5cclxuICAgIF0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG4gICAgYXBwLmNvbmZpZyhDb25maWd1cmF0aW9uKTtcclxuXHJcbiAgICBDb25maWd1cmF0aW9uLiRpbmplY3QgPSBbJyRsb2dQcm92aWRlcicsICckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBDb25maWd1cmF0aW9uKCRsb2dQcm92aWRlciwgJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG4gICAgICAgICRsb2dQcm92aWRlci5kZWJ1Z0VuYWJsZWQodHJ1ZSk7XHJcblxyXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9ob21lJyk7XHJcblxyXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwJywge1xyXG4gICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hdjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hcHAvc2hhcmVkL2FwcF9sYXlvdXQvbmF2VGVtcGxhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdOYXZDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hcHAvc2hhcmVkL2FwcF9sYXlvdXQvY29udGVudFRlbXBsYXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29udGVudENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZGViYXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYXBwL3NoYXJlZC9hcHBfbGF5b3V0L3NpZGViYXJUZW1wbGF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1NpZGViYXJDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBmb290ZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYXBwL3NoYXJlZC9hcHBfbGF5b3V0L2Zvb3RlclRlbXBsYXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnRm9vdGVyQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIGV4dHJhIHByb3BlcnRpZXMgdG8gZWFjaCBzdGF0ZS5cclxuICAgIGFwcC5ydW4oWyckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCRyb290U2NvcGUpIHtcclxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uIChldmVudCwgY3VycmVudCkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnRpdGxlID0gY3VycmVudC50aXRsZTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5ib2R5Q3NzID0gY3VycmVudC5ib2R5Q3NzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuaG9tZScpLmNvbmZpZyhDb25maWd1cmF0aW9uKTtcclxuXHJcbiAgICBDb25maWd1cmF0aW9uLiRpbmplY3QgPSBbJyRzdGF0ZVByb3ZpZGVyJ107XHJcblxyXG4gICAgZnVuY3Rpb24gQ29uZmlndXJhdGlvbigkc3RhdGVQcm92aWRlcikge1xyXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmhvbWUnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvaG9tZScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hcHAvY29tcG9uZW50cy9ob21lL2hvbWVWaWV3Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0hvbWVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnSG9tZScsXHJcbiAgICAgICAgICAgICAgICBib2R5Q3NzOiBcImhvbWVcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLnJhbmtpbmdzJykuY29uZmlnKENvbmZpZ3VyYXRpb24pO1xyXG5cclxuICAgIENvbmZpZ3VyYXRpb24uJGluamVjdCA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIENvbmZpZ3VyYXRpb24oKSB7XHJcblxyXG4gICAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uJykuY29uZmlnKENvbmZpZ3VyYXRpb24pO1xyXG5cclxuICAgIENvbmZpZ3VyYXRpb24uJGluamVjdCA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIENvbmZpZ3VyYXRpb24oKSB7XHJcblxyXG4gICAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuZGlyZWN0aXZlcycpLmNvbmZpZyhDb25maWd1cmF0aW9uKTtcclxuXHJcbiAgICBDb25maWd1cmF0aW9uLiRpbmplY3QgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBDb25maWd1cmF0aW9uKCkge1xyXG5cclxuICAgIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmZpbHRlcnMnKS5jb25maWcoQ29uZmlndXJhdGlvbik7XHJcblxyXG4gICAgQ29uZmlndXJhdGlvbi4kaW5qZWN0ID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gQ29uZmlndXJhdGlvbigpIHtcclxuXHJcbiAgICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5wcm92aWRlcnMnKS5jb25maWcoQ29uZmlndXJhdGlvbik7XHJcblxyXG4gICAgQ29uZmlndXJhdGlvbi4kaW5qZWN0ID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gQ29uZmlndXJhdGlvbigpIHtcclxuXHJcbiAgICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5zZXJ2aWNlcycpLmNvbmZpZyhDb25maWd1cmF0aW9uKTtcclxuXHJcbiAgICBDb25maWd1cmF0aW9uLiRpbmplY3QgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBDb25maWd1cmF0aW9uKCkge1xyXG5cclxuICAgIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmhvbWUnKS5jb250cm9sbGVyKCdIb21lQ29udHJvbGxlcicsIEhvbWVDb250cm9sbGVyKTtcclxuXHJcbiAgICBIb21lQ29udHJvbGxlci4kaW5qZWN0ID0gWydsb2dnZXInLCAnaWNvblByb3ZpZGVyJywgJ3dvd1NlcnZpY2UnLCAnZ2xvYmFsRW51bScsICdjYWNoZSddO1xyXG5cclxuICAgIGZ1bmN0aW9uIEhvbWVDb250cm9sbGVyKGxvZ2dlciwgaWNvblByb3ZpZGVyLCB3b3dTZXJ2aWNlLCBnbG9iYWxFbnVtLCBjYWNoZSkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uZ2xvYmFsRW51bSA9IGdsb2JhbEVudW07XHJcblxyXG4gICAgICAgIGluaXQoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKEhvbWVDb250cm9sbGVyLCBpbml0LCAnSW5pdGlhbGl6aW5nLi4uJyk7XHJcblxyXG4gICAgICAgICAgICAvL3dvd1NlcnZpY2UuZ2V0UmFjZXMoKVxyXG4gICAgICAgICAgICAvLyAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgIC8vIGFsZXJ0KHJlc3BvbnNlLmRhdGEucmFjZXNbMF0ubmFtZSk7XHJcbiAgICAgICAgICAgIC8vICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy93b3dTZXJ2aWNlLmdldENsYXNzZXMoKVxyXG4gICAgICAgICAgICAvLyAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgIC8vIGFsZXJ0KHJlc3BvbnNlLmRhdGEuY2xhc3Nlc1swXS5uYW1lKTtcclxuICAgICAgICAgICAgLy8gICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL3dvd1NlcnZpY2UuZ2V0UHZwTGVhZGVyYm9hcmQoZ2xvYmFsRW51bS5icmFja2V0LlR3b1ZzVHdvLCBnbG9iYWxFbnVtLnJlZ2lvbi5FVSlcclxuICAgICAgICAgICAgLy8gICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9pY29uUHJvdmlkZXIucmFjZUljb25Qcm9taXNlKGdsb2JhbEVudW0ucmFjZS5IdW1hbi5ibGl6eklkLCAxLCBnbG9iYWxFbnVtLmljb25TaXplLkxhcmdlKVxyXG4gICAgICAgICAgICAvLyAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2ljb25Qcm92aWRlci5zcGVjSWNvblByb21pc2UoMjUyLCBnbG9iYWxFbnVtLmljb25TaXplLkxhcmdlKVxyXG4gICAgICAgICAgICAvLyAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ0NvbnRlbnRDb250cm9sbGVyJywgQ29udGVudENvbnRyb2xsZXIpO1xyXG5cclxuICAgIENvbnRlbnRDb250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2dlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIENvbnRlbnRDb250cm9sbGVyKGxvZ2dlcikge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGluaXQoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKENvbnRlbnRDb250cm9sbGVyLCBpbml0LCAnSW5pdGlhbGl6aW5nLi4uJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdGb290ZXJDb250cm9sbGVyJywgRm9vdGVyQ29udHJvbGxlcik7XHJcblxyXG4gICAgRm9vdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydsb2dnZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBGb290ZXJDb250cm9sbGVyKGxvZ2dlcikge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGluaXQoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKEZvb3RlckNvbnRyb2xsZXIsIGluaXQsICdJbml0aWFsaXppbmcuLi4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ05hdkNvbnRyb2xsZXInLCBOYXZDb250cm9sbGVyKTtcclxuXHJcbiAgICBOYXZDb250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2dlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIE5hdkNvbnRyb2xsZXIobG9nZ2VyKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgaW5pdCgpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoTmF2Q29udHJvbGxlciwgaW5pdCwgJ0luaXRpYWxpemluZy4uLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJykuY29udHJvbGxlcignU2lkZWJhckNvbnRyb2xsZXInLCBTaWRlYmFyQ29udHJvbGxlcik7XHJcblxyXG4gICAgU2lkZWJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnbG9nZ2VyJ107XHJcblxyXG4gICAgZnVuY3Rpb24gU2lkZWJhckNvbnRyb2xsZXIobG9nZ2VyKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgaW5pdCgpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoU2lkZWJhckNvbnRyb2xsZXIsIGluaXQsICdJbml0aWFsaXppbmcuLi4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5jb21tb24nKS5mYWN0b3J5KCdhcGknLCBBcGkpO1xyXG5cclxuICAgIEFwaS4kaW5qZWN0ID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gQXBpKCkge1xyXG4gICAgICAgIHZhciBwcmVmaXggPSAnL2FwaSc7XHJcbiAgICAgICAgdmFyIHdvd1ByZWZpeCA9ICcvd293JztcclxuICAgICAgICB2YXIgd293RGF0YVByZWZpeCA9IHdvd1ByZWZpeCArICcvZGF0YSc7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHdvdzoge1xyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IHdvd0RhdGFQcmVmaXggKyAnL2NoYXJhY3Rlci9jbGFzc2VzJyxcclxuICAgICAgICAgICAgICAgICAgICByYWNlczogd293RGF0YVByZWZpeCArICcvY2hhcmFjdGVyL3JhY2VzJyxcclxuICAgICAgICAgICAgICAgICAgICB0YWxlbnRzOiB3b3dEYXRhUHJlZml4ICsgJy90YWxlbnRzJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHB2cDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYWRlcmJvYXJkOiAnL3dvdy9sZWFkZXJib2FyZC86YnJhY2tldCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcm91dGU6IHJvdXRlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcm91dGUodXJsLCBrZXlWYWx1ZXMsIHF1ZXJ5U3RyaW5nVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHVybCA9IHByZWZpeCArIHVybDtcclxuXHJcbiAgICAgICAgICAgIGlmIChrZXlWYWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbGxLZXlzID0gT2JqZWN0LmtleXMoa2V5VmFsdWVzKTtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UHJvcGVydHlOYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wZXJ0eU5hbWUgPSBhbGxLZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCcvOicgKyBjdXJyZW50UHJvcGVydHlOYW1lLCAnLycgKyBrZXlWYWx1ZXNbY3VycmVudFByb3BlcnR5TmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocXVlcnlTdHJpbmdWYWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZ0tleXMgPSBPYmplY3Qua2V5cyhxdWVyeVN0cmluZ1ZhbHVlcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFFTUHJvcGVydHlOYW1lLCBzZXBhcmF0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBxdWVyeVN0cmluZ0tleXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UVNQcm9wZXJ0eU5hbWUgPSBxdWVyeVN0cmluZ0tleXNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgaiA9PT0gMCA/IHNlcGFyYXRvciA9ICc/JyA6IHNlcGFyYXRvciA9ICcmJztcclxuICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyBzZXBhcmF0b3IgKyBjdXJyZW50UVNQcm9wZXJ0eU5hbWUgKyAnPScgKyBxdWVyeVN0cmluZ1ZhbHVlc1tjdXJyZW50UVNQcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uJykuZmFjdG9yeSgnY2FjaGUnLCBDYWNoZSk7XHJcblxyXG4gICAgQ2FjaGUuJGluamVjdCA9IFsnZ2xvYmFsQ29uc3RhbnRzJywgJ2xvZ2dlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIENhY2hlKGdsb2JhbENvbnN0YW50cywgbG9nZ2VyKSB7XHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBFeHBvc2VkIGZ1bmN0aW9ucy5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0b3JlKGtleSwgb2JqKSB7XHJcbiAgICAgICAgICAgIGlmICgha2V5KSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoQ2FjaGUsIHN0b3JlLCAnS2V5IG5vdCBwcm92aWRlZC4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb2JqLnRpbWVzdGFtcCA9IG1vbWVudCgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkob2JqKSk7XHJcblxyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoQ2FjaGUsIHN0b3JlLCAnU3RvcmluZyBvYmplY3Qgd2l0aCBrZXk6IFxcXCInICsga2V5ICsgJ1xcXCIuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBsb2FkKGtleSkge1xyXG4gICAgICAgICAgICBpZiAoIWtleSkge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKENhY2hlLCBsb2FkLCAnS2V5IG5vdCBwcm92aWRlZC4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRmV0Y2ggdGhlIG9iamVjdC5cclxuICAgICAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XHJcbiAgICAgICAgICAgIGlmICghb2JqKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBpdGVtIGhhcyBleHBpcmVkLlxyXG4gICAgICAgICAgICB2YXIgb2JqTW9tZW50ID0gbW9tZW50KG9iai50aW1lc3RhbXApO1xyXG4gICAgICAgICAgICB2YXIgbm93TW9tZW50ID0gbW9tZW50KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAobm93TW9tZW50LmRpZmYob2JqTW9tZW50LCAnbWludXRlcycpID49IGdsb2JhbENvbnN0YW50cy5DQUNIRV9NSU5VVEVTKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENsb25lIGl0ZW0gYW5kIHJlbW92ZSB0aW1lc3RhbXAuXHJcbiAgICAgICAgICAgIHZhciBjbG9uZU9iaiA9IF8uY2xvbmUob2JqLCB0cnVlKTtcclxuICAgICAgICAgICAgZGVsZXRlIGNsb25lT2JqLnRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjbG9uZU9iajtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gRXhwb3NlIGZ1bmN0aW9ucy5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0b3JlOiBzdG9yZSxcclxuICAgICAgICAgICAgbG9hZCA6IGxvYWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBhcHBDb21tb24gPSBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbW1vbicpO1xyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gR2xvYmFsIGNvbnN0YW50cy5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgdmFyIGJsaXp6SWNvbnNSb290ID0gJ2h0dHA6Ly9tZWRpYS5ibGl6emFyZC5jb20vd293L2ljb25zJztcclxuICAgIHZhciB6YW1JY29uc1Jvb3QgPSAnaHR0cDovL3dvdy56YW1pbWcuY29tL2ltYWdlcy93b3cvaWNvbnMnO1xyXG5cclxuICAgIHZhciBnbG9iYWxDb25zdGFudHNPYmogPSB7XHJcbiAgICAgICAgQkxJWlpfSUNPTlNfUk9PVDogYmxpenpJY29uc1Jvb3QsXHJcbiAgICAgICAgWkFNX0lDT05TX1JPT1Q6IHphbUljb25zUm9vdCxcclxuICAgICAgICBCTkVUX1JPT1RfRVU6ICdodHRwOi8vZXUuYmF0dGxlLm5ldCcsXHJcbiAgICAgICAgQk5FVF9ST09UX1VTOiAnaHR0cDovL3VzLmJhdHRsZS5uZXQnLFxyXG4gICAgICAgIENBQ0hFX01JTlVURVM6IDYwXHJcbiAgICB9O1xyXG5cclxuICAgIGFwcENvbW1vbi5jb25zdGFudChcclxuICAgICAgICAnZ2xvYmFsQ29uc3RhbnRzJywgZ2xvYmFsQ29uc3RhbnRzT2JqXHJcbiAgICApO1xyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgYXBwQ29tbW9uID0gYW5ndWxhci5tb2R1bGUoJ2FwcC5jb21tb24nKTtcclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vIEdsb2JhbCBlbnVtcy5cclxuICAgIC8vXHJcbiAgICAvLyBNYW5kYXRvcnkgZmllbGRzOlxyXG4gICAgLy8gICAtIG1hc2tcclxuICAgIC8vICAgLSBlbnVtVmFsXHJcbiAgICAvLyAgIC0gZGlzcGxheVxyXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgYXBwQ29tbW9uLmNvbnN0YW50KFxyXG4gICAgICAgICdnbG9iYWxFbnVtJywge1xyXG4gICAgICAgICAgICByZWdpb246IHtcclxuICAgICAgICAgICAgICAgIEVVOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ2V1JyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnRVUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMb25nOiAnRXVyb3BlJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFVTOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ3VzJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnVVMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMb25nOiAnVW5pdGVkIFN0YXRlcydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGdhbWVNb2RlOiB7XHJcbiAgICAgICAgICAgICAgICBQdkU6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAncHZlJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnUHZFJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFB2UDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICdwdnAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdQdlAnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBmYWN0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBBbGxpYW5jZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDApLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICdhbGxpYW5jZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0FsbGlhbmNlJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgSG9yZGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAxKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAnaG9yZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdIb3JkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmxpenpJZDogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgZ2VuZGVyOiB7XHJcbiAgICAgICAgICAgICAgICBNYWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ21hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdNYWxlJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgRmVtYWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ2ZlbWFsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0ZlbWFsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmxpenpJZDogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgcmFjZToge1xyXG4gICAgICAgICAgICAgICAgSHVtYW46IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAnaHVtYW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdIdW1hbicsXHJcbiAgICAgICAgICAgICAgICAgICAgYmxpenpJZDogMVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIE9yYzoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICdvcmMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdPcmMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBEd2FyZjoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICdkd2FyZicsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0R3YXJmJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiAzXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgTmlnaHRFbGY6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAzKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAnbmlnaHRlbGYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdOaWdodCBFbGYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBVbmRlYWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCA0KSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAndW5kZWFkJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnVW5kZWFkJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiA1XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgVGF1cmVuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgNSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ3RhdXJlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ1RhdXJlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgYmxpenpJZDogNlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIEdub21lOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgNiksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ2dub21lJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnR25vbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBUcm9sbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICd0cm9sbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ1Ryb2xsJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiA4XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgR29ibGluOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgOCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ2dvYmxpbicsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0dvYmxpbicsXHJcbiAgICAgICAgICAgICAgICAgICAgYmxpenpJZDogOVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIEJsb29kRWxmOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgOSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ2Jsb29kZWxmJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnQmxvb2QgRWxmJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiAxMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIERyYWVuZWk6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAxMCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ2RyYWVuZWknLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdEcmFlbmVpJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiAxMVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFdvcmdlbjoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDExKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAnd29yZ2VuJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnV29yZ2VuJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiAyMlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFBhbmRhcmVuTmV1dHJhbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDEyKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAncGFuZGFyZW5uZXV0cmFsJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnUGFuZGFyZW4gTmV1dHJhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYmxpenpJZDogMjRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBQYW5kYXJlbkFsbGlhbmNlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMTMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICdwYW5kYXJlbmFsbGlhbmNlJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnUGFuZGFyZW4gQWxsaWFuY2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDI1XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgUGFuZGFyZW5Ib3JkZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDE0KSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAncGFuZGFyZW5ob3JkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ1BhbmRhcmVuIEhvcmRlJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiAyNlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgY2xhc3M6IHtcclxuICAgICAgICAgICAgICAgIFdhcnJpb3I6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAnd2FycmlvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ1dhcnJpb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlY3M6IFs3MSwgNzIsIDczXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFBhbGFkaW46IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAxKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAncGFsYWRpbicsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ1BhbGFkaW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlY3M6IFs2NSwgNjYsIDcwXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIEh1bnRlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICdodW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdIdW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlY3M6IFsyNTMsIDI1NCwgMjU1XVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFJvZ3VlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMyksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ3JvZ3VlJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnUm9ndWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDQsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlY3M6IFsyNTksIDI2MCwgMjYxXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFByaWVzdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDQpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICdwcmllc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdQcmllc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlY3M6IFsyNTYsIDI1NywgMjU4XVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIERlYXRoS25pZ2h0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgNSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ2RlYXRoa25pZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnRGVhdGggS25pZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiA2LFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWNzOiBbMjUwLCAyNTEsIDI1Ml1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBTaGFtYW46IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCA2KSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAnc2hhbWFuJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnU2hhbWFuJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiA3LFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWNzOiBbMjYyLCAyNjMsIDI2NF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBNYWdlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgNyksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ21hZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdNYWdlJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiA4LFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWNzOiBbNjIsIDYzLCA2NF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBXYXJsb2NrOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgOCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ3dhcmxvY2snLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdXYXJsb2NrJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiA5LFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWNzOiBbMjY1LCAyNjYsIDI2N11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBNb25rOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgOSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ21vbmsnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdNb25rJyxcclxuICAgICAgICAgICAgICAgICAgICBibGl6eklkOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBzcGVjczogWzI2OCwgMjY5LCAyNzBdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgRHJ1aWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAxMCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ2RydWlkJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnRHJ1aWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsaXp6SWQ6IDExLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWNzOiBbMTAyLCAxMDMsIDEwNCwgMTA1XVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgYnJhY2tldDoge1xyXG4gICAgICAgICAgICAgICAgVHdvVnNUd286IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAnMnYyJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnMnYyJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TG9uZzogJ0FyZW5hIDJ2MidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBUaHJlZVZzVGhyZWU6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAxKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAnM3YzJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnM3YzJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TG9uZzogJ0FyZW5hIDN2MydcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBGaXZlVnNGaXZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMiksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJzV2NScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJzV2NScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxvbmc6ICdBcmVuYSA1djUnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgUmJnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMyksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ3JiZycsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ1JiZycsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxvbmc6ICdSYXRlZCBCYXR0bGVncm91bmRzJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgaWNvblNpemU6IHtcclxuICAgICAgICAgICAgICAgIFNtYWxsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ3NtYWxsJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnU21hbGwnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgTWVkaXVtOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ21lZGl1bScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ01lZGl1bSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBMYXJnZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICdsYXJnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0xhcmdlJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgcmFua0xpc3RUeXBlOiB7XHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ3BsYXllcnMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdQbGF5ZXJzJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFNwZWNzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ3NwZWNzJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnU3BlY3MnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgUmFjZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAyKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAncmFjZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdSYWNlcydcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBHdWlsZHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBNYXRoLnBvdygyLCAzKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsOiAnZ3VpbGRzJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnR3VpbGRzJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIEFjaGlldmVtZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IE1hdGgucG93KDIsIDQpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1WYWw6ICdhY2hpZXZlbWVudHMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdBY2hpZXZlbWVudHMnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgTW91bnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogTWF0aC5wb3coMiwgNSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bVZhbDogJ21vdW50cycsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ01vdW50cydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG59KSgpO1xyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTcGVjIElEcy5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyA2MiAtIE1hZ2U6IEFyY2FuZVxyXG4vLyA2MyAtIE1hZ2U6IEZpcmVcclxuLy8gNjQgLSBNYWdlOiBGcm9zdFxyXG4vLyA2NSAtIFBhbGFkaW46IEhvbHlcclxuLy8gNjYgLSBQYWxhZGluOiBQcm90ZWN0aW9uXHJcbi8vIDcwIC0gUGFsYWRpbjogUmV0cmlidXRpb25cclxuLy8gNzEgLSBXYXJyaW9yOiBBcm1zXHJcbi8vIDcyIC0gV2FycmlvcjogRnVyeVxyXG4vLyA3MyAtIFdhcnJpb3I6IFByb3RlY3Rpb25cclxuLy8gMTAyIC0gRHJ1aWQ6IEJhbGFuY2VcclxuLy8gMTAzIC0gRHJ1aWQ6IEZlcmFsXHJcbi8vIDEwNCAtIERydWlkOiBHdWFyZGlhblxyXG4vLyAxMDUgLSBEcnVpZDogUmVzdG9yYXRpb25cclxuLy8gMjUwIC0gRGVhdGggS25pZ2h0OiBCbG9vZFxyXG4vLyAyNTEgLSBEZWF0aCBLbmlnaHQ6IEZyb3N0XHJcbi8vIDI1MiAtIERlYXRoIEtuaWdodDogVW5ob2x5XHJcbi8vIDI1MyAtIEh1bnRlcjogQmVhc3QgTWFzdGVyeVxyXG4vLyAyNTQgLSBIdW50ZXI6IE1hcmtzbWFuc2hpcFxyXG4vLyAyNTUgLSBIdW50ZXI6IFN1cnZpdmFsXHJcbi8vIDI1NiAtIFByaWVzdDogRGlzY2lwbGluZVxyXG4vLyAyNTcgLSBQcmllc3Q6IEhvbHlcclxuLy8gMjU4IC0gUHJpZXN0OiBTaGFkb3dcclxuLy8gMjU5IC0gUm9ndWU6IEFzc2Fzc2luYXRpb25cclxuLy8gMjYwIC0gUm9ndWU6IENvbWJhdFxyXG4vLyAyNjEgLSBSb2d1ZTogU3VidGxldHlcclxuLy8gMjYyIC0gU2hhbWFuOiBFbGVtZW50YWxcclxuLy8gMjYzIC0gU2hhbWFuOiBFbmhhbmNlbWVudFxyXG4vLyAyNjQgLSBTaGFtYW46IFJlc3RvcmF0aW9uXHJcbi8vIDI2NSAtIFdhcmxvY2s6IEFmZmxpY3Rpb25cclxuLy8gMjY2IC0gV2FybG9jazogRGVtb25vbG9neVxyXG4vLyAyNjcgLSBXYXJsb2NrOiBEZXN0cnVjdGlvblxyXG4vLyAyNjggLSBNb25rOiBCcmV3bWFzdGVyXHJcbi8vIDI2OSAtIE1vbms6IFdpbmR3YWxrZXJcclxuLy8gMjcwIC0gTW9uazogTWlzdHdlYXZlclxyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucHJvdmlkZXJzJykuZmFjdG9yeSgnaWNvblByb3ZpZGVyJywgSWNvblByb3ZpZGVyKTtcclxuXHJcbiAgICBJY29uUHJvdmlkZXIuJGluamVjdCA9IFsnZ2xvYmFsQ29uc3RhbnRzJywgJ2dsb2JhbEVudW0nLCAnbG9nZ2VyJ107XHJcblxyXG4gICAgZnVuY3Rpb24gSWNvblByb3ZpZGVyKGdsb2JhbENvbnN0YW50cywgZ2xvYmFsRW51bSwgbG9nZ2VyKSB7XHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBDb25zdGFudHMuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICB2YXIgYmxpenpJY29uU2l6ZXMgPSB7XHJcbiAgICAgICAgICAgIHNtYWxsOiAxOCxcclxuICAgICAgICAgICAgbWVkaXVtOiAzNixcclxuICAgICAgICAgICAgbGFyZ2U6IDU2XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGljb25FeHQgPSAnLmpwZyc7XHJcblxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gUHVibGljIGZ1bmN0aW9ucy5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIGZ1bmN0aW9uIGJsaXp6SWNvbkxpbmsobmFtZSwgc2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsQ29uc3RhbnRzLkJMSVpaX0lDT05TX1JPT1QgK1xyXG4gICAgICAgICAgICAgICAgJy8nICsgYmxpenpJY29uU2l6ZXNbc2l6ZS5lbnVtVmFsLnRvTG93ZXJDYXNlKCldICtcclxuICAgICAgICAgICAgICAgICcvJyArIG5hbWUgKyBpY29uRXh0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gemFtSWNvbkxpbmsobmFtZSwgc2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsQ29uc3RhbnRzLlpBTV9JQ09OU19ST09UICtcclxuICAgICAgICAgICAgICAgICcvJyArIHNpemUuZW51bVZhbC50b0xvd2VyQ2FzZSgpICtcclxuICAgICAgICAgICAgICAgICcvJyArIG5hbWUgKyBpY29uRXh0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZmFjdGlvbkljb25MaW5rKGZhY3Rpb25CbGl6eklkLCBzaXplKSB7XHJcbiAgICAgICAgICAgIHZhciBmYWN0aW9uU3RyID0gJ2FsbGlhbmNlJztcclxuICAgICAgICAgICAgaWYgKGZhY3Rpb25CbGl6eklkID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBmYWN0aW9uU3RyID0gJ2hvcmRlJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyID0gJ2ZhY3Rpb25fJyArIGZhY3Rpb25TdHIudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB6YW1JY29uTGluayhxdWVyeVN0ciwgc2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjbGFzc0ljb25MaW5rKGNsYXNzQmxpenpJZCwgc2l6ZSkge1xyXG4gICAgICAgICAgICB2YXIgY2xhc3NLZXkgPSBfLmZpbmRLZXkoZ2xvYmFsRW51bS5jbGFzcywgZnVuY3Rpb24gKGFDbGFzcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzQmxpenpJZCA9PT0gYUNsYXNzLmJsaXp6SWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNsYXNzU3RyID0gZ2xvYmFsRW51bS5jbGFzc1tjbGFzc0tleV0uZW51bVZhbDtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyID0gJ2NsYXNzXycgKyBjbGFzc1N0ci50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHphbUljb25MaW5rKHF1ZXJ5U3RyLCBzaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJhY2VJY29uTGluayhyYWNlQmxpenpJZCwgZ2VuZGVyQmxpenpJZCwgc2l6ZSkge1xyXG4gICAgICAgICAgICB2YXIgcmFjZUtleSA9IF8uZmluZEtleShnbG9iYWxFbnVtLnJhY2UsIGZ1bmN0aW9uIChyYWNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFjZUJsaXp6SWQgPT09IHJhY2UuYmxpenpJZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyS2V5ID0gXy5maW5kS2V5KGdsb2JhbEVudW0uZ2VuZGVyLCBmdW5jdGlvbiAoZ2VuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZGVyQmxpenpJZCA9PT0gZ2VuZGVyLmJsaXp6SWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJhY2VTdHIgPSBnbG9iYWxFbnVtLnJhY2VbcmFjZUtleV0uZW51bVZhbDtcclxuICAgICAgICAgICAgdmFyIGdlbmRlclN0ciA9IGdsb2JhbEVudW0uZ2VuZGVyW2dlbmRlcktleV0uZW51bVZhbDtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyID0gJ3JhY2VfJyArIHJhY2VTdHIudG9Mb3dlckNhc2UoKSArICdfJyArIGdlbmRlclN0cjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB6YW1JY29uTGluayhxdWVyeVN0ciwgc2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIEV4cG9zZSBmdW5jdGlvbnMuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBibGl6ekljb25MaW5rOiBibGl6ekljb25MaW5rLFxyXG4gICAgICAgICAgICB6YW1JY29uTGluazogemFtSWNvbkxpbmssXHJcbiAgICAgICAgICAgIGZhY3Rpb25JY29uTGluazogZmFjdGlvbkljb25MaW5rLFxyXG4gICAgICAgICAgICBjbGFzc0ljb25MaW5rOiBjbGFzc0ljb25MaW5rLFxyXG4gICAgICAgICAgICByYWNlSWNvbkxpbms6IHJhY2VJY29uTGlua1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5wcm92aWRlcnMnKS5mYWN0b3J5KCdsb2dnZXInLCBMb2dnZXIpO1xyXG5cclxuICAgIExvZ2dlci4kaW5qZWN0ID0gWyckbG9nJ107XHJcblxyXG4gICAgZnVuY3Rpb24gTG9nZ2VyKCRsb2cpIHtcclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIEV4cG9zZWQgZnVuY3Rpb25zLlxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgZnVuY3Rpb24gZGVidWcoY3RybCwgZnVuYywgbXNnKSB7XHJcbiAgICAgICAgICAgICRsb2cuZGVidWcoYnVpbGRNc2coY3RybCwgZnVuYywgbXNnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBlcnJvcihjdHJsLCBmdW5jLCBtc2cpIHtcclxuICAgICAgICAgICAgJGxvZy5lcnJvcihidWlsZE1zZyhjdHJsLCBmdW5jLCBtc2cpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluZm8oY3RybCwgZnVuYywgbXNnKSB7XHJcbiAgICAgICAgICAgICRsb2cuaW5mbyhidWlsZE1zZyhjdHJsLCBmdW5jLCBtc2cpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxvZyhjdHJsLCBmdW5jLCBtc2cpIHtcclxuICAgICAgICAgICAgJGxvZy5sb2coYnVpbGRNc2coY3RybCwgZnVuYywgbXNnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB3YXJuKGN0cmwsIGZ1bmMsIG1zZykge1xyXG4gICAgICAgICAgICAkbG9nLndhcm4oYnVpbGRNc2coY3RybCwgZnVuYywgbXNnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbnMuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICBmdW5jdGlvbiBidWlsZE1zZyhjdHJsLCBmdW5jLCBtc2cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN0cmwubmFtZSArICcgLT4gJyArIGZ1bmMubmFtZSArICcoKTogJyArIG1zZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gRXhwb3NlIGZ1bmN0aW9ucy5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRlYnVnOiBkZWJ1ZyxcclxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxyXG4gICAgICAgICAgICBpbmZvOiBpbmZvLFxyXG4gICAgICAgICAgICBsb2c6IGxvZyxcclxuICAgICAgICAgICAgd2Fybjogd2FyblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5wcm92aWRlcnMnKS5mYWN0b3J5KCdwcm9taXNlUHJvdmlkZXInLCBQcm9taXNlUHJvdmlkZXIpO1xyXG5cclxuICAgIFByb21pc2VQcm92aWRlci4kaW5qZWN0ID0gWyckcScsICdsb2dnZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBQcm9taXNlUHJvdmlkZXIoJHEsIGxvZ2dlcikge1xyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gSGVscGVyIGZ1bmN0aW9ucy5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIGZ1bmN0aW9uIGRlZmVycmVkRXh0ZW5kZXIoZGVmZXJyZWQpIHtcclxuICAgICAgICAgICAgZGVmZXJyZWQucHJvbWlzZS5zdWNjZXNzID0gZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgICAgICAgIGRlZmVycmVkLnByb21pc2UudGhlbihmbiwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGRlZmVycmVkLnByb21pc2UuZXJyb3IgPSBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucHJvbWlzZS50aGVuKG51bGwsIGZuKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBQdWJsaWMgZnVuY3Rpb25zLlxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgZnVuY3Rpb24gcHJvbWlzZUZyb21PYmoodmFsLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIGRlZiA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgIGlmIChyZWplY3QpIHtcclxuICAgICAgICAgICAgICAgIGRlZi5yZWplY3QodmFsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRlZi5yZXNvbHZlKHZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRlZmVycmVkRXh0ZW5kZXIoZGVmKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZi5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBFeHBvc2UgZnVuY3Rpb25zLlxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJvbWlzZUZyb21PYmo6IHByb21pc2VGcm9tT2JqXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5zZXJ2aWNlcycpLmZhY3RvcnkoJ3dvd1NlcnZpY2UnLCBXb3dTZXJ2aWNlKTtcclxuXHJcbiAgICBXb3dTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRxJywgJ2NhY2hlJywgJ3Byb21pc2VQcm92aWRlcicsICdpY29uUHJvdmlkZXInLCAnZ2xvYmFsQ29uc3RhbnRzJywgJ2dsb2JhbEVudW0nLCAnYXBpJywgJ2xvZ2dlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIFdvd1NlcnZpY2UoJGh0dHAsICRxLCBjYWNoZSwgcHJvbWlzZVByb3ZpZGVyLCBpY29uUHJvdmlkZXIsIGdsb2JhbENvbnN0YW50cywgZ2xvYmFsRW51bSwgYXBpLCBsb2dnZXIpIHtcclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIExvY2FsIHZhcmlhYmxlcy5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIHZhciBjYWxsYmFja0NvdW50ID0gMDtcclxuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb25zLlxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Um9vdFVybChyZWdpb24pIHtcclxuICAgICAgICAgICAgaWYgKHJlZ2lvbiA9PT0gZ2xvYmFsRW51bS5yZWdpb24uVVMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnbG9iYWxDb25zdGFudHMuQk5FVF9ST09UX1VTO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gRVUgYnkgZGVmYXVsdC5cclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbENvbnN0YW50cy5CTkVUX1JPT1RfRVU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBibmV0UmVxdWVzdCAocGF0aCwgcmVnaW9uLCBwYXJhbXMpIHtcclxuICAgICAgICAgICAgdmFyIHJvb3RVcmwgPSBnZXRSb290VXJsKHJlZ2lvbik7XHJcblxyXG4gICAgICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307XHJcbiAgICAgICAgICAgIHBhcmFtcyA9IGFuZ3VsYXIuZXh0ZW5kKHBhcmFtcywge1xyXG4gICAgICAgICAgICAgICAgLy8gYXBpS2V5OiAvKiBBUElfS0VZICovLFxyXG4gICAgICAgICAgICAgICAgLy8gbG9jYWxlOiAvKiBMT0NBTEUgKi8sXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogJ2FuZ3VsYXIuY2FsbGJhY2tzLl8nICsgY2FsbGJhY2tDb3VudCxcclxuICAgICAgICAgICAgICAgIGpzb25wOiAnSlNPTl9DQUxMQkFDSydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrQ291bnQrKztcclxuXHJcbiAgICAgICAgICAgIC8vIFBheSBhdHRlbnRpb24gdG8gdGhpcyFcclxuICAgICAgICAgICAgaWYgKC9jaGFyYWN0ZXIvLnRlc3QocGF0aCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJhbXMuY2FsbGJhY2s7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5qc29ucChyb290VXJsICsgcGF0aCwgeyBwYXJhbXM6IHBhcmFtcyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gQ2FjaGUga2V5cy5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIHZhciBjbGFzc2VzS2V5ID0gJ2NsYXNzZXMnO1xyXG4gICAgICAgIHZhciByYWNlc0tleSA9ICdyYWNlcyc7XHJcbiAgICAgICAgdmFyIHRhbGVudHNLZXkgPSAndGFsZW50cyc7XHJcblxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gUHVibGljIGZ1bmN0aW9ucy5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldENsYXNzZXMoKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGFzc2VzID0gY2FjaGUubG9hZChjbGFzc2VzS2V5KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjbGFzc2VzKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoV293U2VydmljZSwgZ2V0Q2xhc3NlcywgJ1JldHJpZXZpbmcgZnJvbSBjYWNoZS4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlUHJvdmlkZXIucHJvbWlzZUZyb21PYmooY2xhc3Nlcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhXb3dTZXJ2aWNlLCBnZXRDbGFzc2VzLCAnQ2FsbGluZyBzZXJ2aWNlLicpO1xyXG4gICAgICAgICAgICByZXR1cm4gYm5ldFJlcXVlc3QoYXBpLnJvdXRlKGFwaS53b3cuZGF0YS5jbGFzc2VzKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLnN0b3JlKGNsYXNzZXNLZXksIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFJhY2VzKCkge1xyXG4gICAgICAgICAgICB2YXIgcmFjZXMgPSBjYWNoZS5sb2FkKHJhY2VzS2V5KTtcclxuICAgICAgICAgICAgaWYgKHJhY2VzKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoV293U2VydmljZSwgZ2V0UmFjZXMsICdSZXRyaWV2aW5nIGZyb20gY2FjaGUuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZVByb3ZpZGVyLnByb21pc2VGcm9tT2JqKHJhY2VzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKFdvd1NlcnZpY2UsIGdldFJhY2VzLCAnQ2FsbGluZyBzZXJ2aWNlLicpO1xyXG4gICAgICAgICAgICByZXR1cm4gYm5ldFJlcXVlc3QoYXBpLnJvdXRlKGFwaS53b3cuZGF0YS5yYWNlcykpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZS5zdG9yZShyYWNlc0tleSwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VGFsZW50cygpIHtcclxuICAgICAgICAgICAgdmFyIHRhbGVudHMgPSBjYWNoZS5sb2FkKHRhbGVudHNLZXkpO1xyXG4gICAgICAgICAgICBpZiAodGFsZW50cykge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKFdvd1NlcnZpY2UsIGdldFRhbGVudHMsICdSZXRyaWV2aW5nIGZyb20gY2FjaGUuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZVByb3ZpZGVyLnByb21pc2VGcm9tT2JqKHRhbGVudHMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoV293U2VydmljZSwgZ2V0VGFsZW50cywgJ0NhbGxpbmcgc2VydmljZS4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJuZXRSZXF1ZXN0KGFwaS5yb3V0ZShhcGkud293LmRhdGEudGFsZW50cykpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZS5zdG9yZSh0YWxlbnRzS2V5LCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRDbGFzcyhjbGFzc0JsaXp6SWQpIHtcclxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgICAgIGdldENsYXNzZXMoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzT2JqID0gXy5maW5kKHJlc3BvbnNlLmRhdGEuY2xhc3NlcywgZnVuY3Rpb24oYUNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc0JsaXp6SWQgPT09IGFDbGFzcy5pZDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzU3RyID0gY2xhc3NPYmoubmFtZS5yZXBsYWNlKC9cXHMvZywgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyID0gJ2NsYXNzXycgKyBjbGFzc1N0cjtcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc09iai5pY29uTGluayA9IGZ1bmN0aW9uIChzaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpY29uUHJvdmlkZXIuemFtSWNvbkxpbmsocXVlcnlTdHIsIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NPYmouY3NzQ2xhc3MgPSAnY2xhc3MtJyArIGNsYXNzU3RyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgY2xhc3M6IGNsYXNzT2JqIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRSYWNlKHJhY2VCbGl6eklkLCBnZW5kZXJCbGl6eklkKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyU3RyID0gJ21hbGUnO1xyXG4gICAgICAgICAgICBpZiAoZ2VuZGVyQmxpenpJZCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZ2VuZGVyU3RyID0gJ2ZlbWFsZSc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGdldFJhY2VzKClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByYWNlT2JqID0gXy5maW5kKHJlc3BvbnNlLmRhdGEucmFjZXMsIGZ1bmN0aW9uKHJhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJhY2VCbGl6eklkID09PSByYWNlLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFjZVN0ciA9IHJhY2VPYmoubmFtZS5yZXBsYWNlKC9cXHMvZywgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhY2VTdHIgPT09ICd1bmRlYWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhY2VTdHIgPSAnc2NvdXJnZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHIgPSAncmFjZV8nICsgcmFjZVN0ciArICdfJyArIGdlbmRlclN0cjtcclxuICAgICAgICAgICAgICAgICAgICByYWNlT2JqLmljb25MaW5rID0gZnVuY3Rpb24gKHNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGljb25Qcm92aWRlci56YW1JY29uTGluayhxdWVyeVN0ciwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHJhY2U6IHJhY2VPYmogfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNwZWMoc3BlY0JsaXp6SWQpIHtcclxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjbGFzc09iaiA9IF8uZmluZChnbG9iYWxFbnVtLmNsYXNzLCBmdW5jdGlvbihhQ2xhc3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhQ2xhc3Muc3BlY3MuaW5kZXhPZihzcGVjQmxpenpJZCkgPj0gMDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzcGVjSW5kZXggPSBjbGFzc09iai5zcGVjcy5pbmRleE9mKHNwZWNCbGl6eklkKTtcclxuXHJcbiAgICAgICAgICAgIGdldFRhbGVudHMoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwZWNPYmogPSByZXNwb25zZS5kYXRhW2NsYXNzT2JqLmJsaXp6SWRdLnNwZWNzW3NwZWNJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlY09iai5pY29uTGluayA9IGZ1bmN0aW9uIChzaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpY29uUHJvdmlkZXIuemFtSWNvbkxpbmsoc3BlY09iai5pY29uLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgc3BlYzogc3BlY09iaiB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UHZwTGVhZGVyYm9hcmQoYnJhY2tldCwgcmVnaW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBibmV0UmVxdWVzdChhcGkucm91dGUoYXBpLndvdy5wdnAubGVhZGVyYm9hcmQsIHsgYnJhY2tldDogYnJhY2tldC5lbnVtVmFsIH0pLCByZWdpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBFeHBvc2UgZnVuY3Rpb25zLlxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0Q2xhc3NlczogZ2V0Q2xhc3NlcyxcclxuICAgICAgICAgICAgZ2V0UmFjZXM6IGdldFJhY2VzLFxyXG4gICAgICAgICAgICBnZXRUYWxlbnRzOiBnZXRUYWxlbnRzLFxyXG4gICAgICAgICAgICBnZXRDbGFzczogZ2V0Q2xhc3MsXHJcbiAgICAgICAgICAgIGdldFJhY2U6IGdldFJhY2UsXHJcbiAgICAgICAgICAgIGdldFNwZWM6IGdldFNwZWMsXHJcbiAgICAgICAgICAgIGdldFB2cExlYWRlcmJvYXJkOiBnZXRQdnBMZWFkZXJib2FyZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5yYW5raW5ncycpLmNvbnRyb2xsZXIoJ1B2cEZpbHRlcnNDb250cm9sbGVyJywgUHZwRmlsdGVyc0NvbnRyb2xsZXIpO1xyXG5cclxuICAgIFB2cEZpbHRlcnNDb250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2dlcicsICdnbG9iYWxFbnVtJ107XHJcblxyXG4gICAgZnVuY3Rpb24gUHZwRmlsdGVyc0NvbnRyb2xsZXIobG9nZ2VyLCBnbG9iYWxFbnVtKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBFeHBvc2VkIHZhcmlhYmxlcy5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIEluaXRpYWxpemF0aW9uLlxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgaW5pdCgpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoUHZwRmlsdGVyc0NvbnRyb2xsZXIsIGluaXQsICdJbml0aWFsaXppbmcuLi4nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgZW51bSBsaXN0cy5cclxuICAgICAgICAgICAgdm0ucmVnaW9ucyA9IF8udmFsdWVzKGdsb2JhbEVudW0ucmVnaW9uKTtcclxuICAgICAgICAgICAgdm0ucmVnaW9uID0gdm0ucmVnaW9uc1swXTtcclxuXHJcbiAgICAgICAgICAgIHZtLmJyYWNrZXRzID0gXy52YWx1ZXMoZ2xvYmFsRW51bS5icmFja2V0KTtcclxuICAgICAgICAgICAgdm0uYnJhY2tldCA9IHZtLmJyYWNrZXRzWzBdO1xyXG5cclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBmaWx0ZXJzLlxyXG4gICAgICAgICAgICB2bS5maWx0ZXJzID0ge1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLm91dHB1dEZpbHRlcnMudGVzdCA9ICd0ZXN0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5yYW5raW5ncycpLmRpcmVjdGl2ZSgncHZwRmlsdGVycycsIFB2cEZpbHRlcnNEaXJlY3RpdmUpO1xyXG5cclxuICAgIFB2cEZpbHRlcnNEaXJlY3RpdmUuJGluamVjdCA9IFsnbG9nZ2VyJ107XHJcblxyXG4gICAgZnVuY3Rpb24gUHZwRmlsdGVyc0RpcmVjdGl2ZShsb2dnZXIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hcHAvY29tcG9uZW50cy9yYW5raW5ncy9wdnBGaWx0ZXJzL3B2cEZpbHRlcnNUZW1wbGF0ZS5odG1sJyxcclxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1B2cEZpbHRlcnNDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgcmVnaW9uOiAnPScsXHJcbiAgICAgICAgICAgICAgICBicmFja2V0OiAnPScsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRGaWx0ZXJzOiAnPWZpbHRlcnMnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6IGxpbmtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoUHZwRmlsdGVyc0RpcmVjdGl2ZSwgbGluaywgJ0NvbmZpZ3VyaW5nLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucmFua2luZ3MnKS5jb250cm9sbGVyKCdQdnBSYW5raW5nc0NvbnRyb2xsZXInLCBQdnBSYW5raW5nc0NvbnRyb2xsZXIpO1xyXG5cclxuICAgIFB2cFJhbmtpbmdzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnd293U2VydmljZScsICdpY29uUHJvdmlkZXInLCAnZ2xvYmFsRW51bScsICdsb2dnZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBQdnBSYW5raW5nc0NvbnRyb2xsZXIoJHNjb3BlLCB3b3dTZXJ2aWNlLCBpY29uUHJvdmlkZXIsIGdsb2JhbEVudW0sIGxvZ2dlcikge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vIEV4cG9zZWQgZnVuY3Rpb25zLlxyXG4gICAgICAgIHZtLmxvYWRQYWdlID0gbG9hZFBhZ2U7XHJcbiAgICAgICAgdm0uc29ydEJ5ID0gc29ydEJ5O1xyXG5cclxuICAgICAgICAvLyBFeHBvc2VkIHZhcmlhYmxlcy5cclxuICAgICAgICB2bS5oZWFkZXJzID0gW3tcclxuICAgICAgICAgICAgZGlzcGxheTogJyMnLFxyXG4gICAgICAgICAgICBrZXk6ICdyYW5raW5nJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgZGlzcGxheTogJ0NsYXNzJyxcclxuICAgICAgICAgICAga2V5OiAnY2xhc3NJZCdcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICdTcGVjJyxcclxuICAgICAgICAgICAga2V5OiAnc3BlY0lkJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgZGlzcGxheTogJ1JhY2UnLFxyXG4gICAgICAgICAgICBrZXk6ICdyYWNlSWQnXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiAnUGxheWVyJyxcclxuICAgICAgICAgICAga2V5OiAnbmFtZScsXHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAnY29sLW1kLTInXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiAnUmVhbG0nLFxyXG4gICAgICAgICAgICBrZXk6ICdyZWFsbU5hbWUnLFxyXG4gICAgICAgICAgICBjc3NDbGFzczogJ2NvbC1tZC0yJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgZGlzcGxheTogJ0ZhY3Rpb24nLFxyXG4gICAgICAgICAgICBrZXk6ICdmYWN0aW9uSWQnXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiAnV2lucycsXHJcbiAgICAgICAgICAgIGtleTogJ3NlYXNvbldpbnMnXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiAnTG9zc2VzJyxcclxuICAgICAgICAgICAga2V5OiAnc2Vhc29uTG9zc2VzJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgZGlzcGxheTogJ1JhdGluZycsXHJcbiAgICAgICAgICAgIGtleTogJ3JhdGluZydcclxuICAgICAgICB9XTtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RhbnRzLlxyXG4gICAgICAgIHZhciBJQ09OX1NJWkUgPSBnbG9iYWxFbnVtLmljb25TaXplLlNtYWxsO1xyXG5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIEluaXRpYWxpemF0aW9uLlxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgaW5pdCgpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoUHZwUmFua2luZ3NDb250cm9sbGVyLCBpbml0LCAnSW5pdGlhbGl6aW5nLicpO1xyXG4gICAgICAgICAgICB2bS5sb2FkaW5nQ291bnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBwYW5lbCB0aXRsZS5cclxuICAgICAgICAgICAgdm0uaGVhZGVyVGV4dCA9IHZtLmJyYWNrZXQuZGlzcGxheUxvbmcgKyAnIC0gJyArIHZtLnJlZ2lvbi5kaXNwbGF5TG9uZztcclxuXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIHNvcnRpbmcgb3B0aW9ucy5cclxuICAgICAgICAgICAgdm0uc29ydEJ5T3B0ID0ge1xyXG4gICAgICAgICAgICAgICAga2V5OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgaXNBc2NlbmRpbmc6IHRydWVcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNldCB0aGUgcGFnZSBkZXRhaWxzLlxyXG4gICAgICAgICAgICB2bS5wYWdlTnVtYmVyID0gMTtcclxuICAgICAgICAgICAgdm0ucGFnZVNpemUgPSB2bS5vcHRpb25hbFBhZ2VTaXplO1xyXG4gICAgICAgICAgICBpZiAoIXZtLnBhZ2VTaXplKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5wYWdlU2l6ZSA9IDU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgbGVhZGVyYm9hcmQuXHJcbiAgICAgICAgICAgIHZtLmxvYWRpbmdDb3VudCsrO1xyXG4gICAgICAgICAgICB3b3dTZXJ2aWNlLmdldFB2cExlYWRlcmJvYXJkKHZtLmJyYWNrZXQsIHZtLnJlZ2lvbilcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmxlYWRlcmJvYXJkID0gcmVzcG9uc2UuZGF0YS5yb3dzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLnNvcnRCeSh2bS5oZWFkZXJzWzBdLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0ubG9hZGluZ0NvdW50LS07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIERlbGF5IHRoZSB0YWJsZSBkaXNwbGF5LCB3YWl0IGZvciBhbGwgaW1hZ2VzIHRvIGxvYWQuXHJcbiAgICAgICAgICAgIHZtLmxvYWRpbmdDb3VudCsrO1xyXG4gICAgICAgICAgICBfLmRlbGF5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0ubG9hZGluZ0NvdW50LS07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIEZ1bmN0aW9ucyBpbXBsZW1lbnRhdGlvbi5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIGZ1bmN0aW9uIGxvYWRQYWdlKCkge1xyXG4gICAgICAgICAgICB2bS5wYWdlRGF0YSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdmFyIG1pblBhZ2VOdW1iZXIgPSAxO1xyXG4gICAgICAgICAgICB2YXIgbWF4UGFnZU51bWJlciA9IE1hdGguY2VpbCh2bS5sZWFkZXJib2FyZC5sZW5ndGggLyB2bS5wYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgIGlmICh2bS5wYWdlTnVtYmVyIDwgbWluUGFnZU51bWJlciB8fCB2bS5wYWdlTnVtYmVyID4gbWF4UGFnZU51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oUHZwUmFua2luZ3NDb250cm9sbGVyLCBsb2FkUGFnZSwgJ0ludmFsaWQgcGFnZSBudW1iZXI6ICcgKyB2bS5wYWdlTnVtYmVyICsgJy4gQ2xhbXBpbmcgdG8gYXJyYXkgZWRnZS4nKTtcclxuICAgICAgICAgICAgICAgIHZtLnBhZ2VOdW1iZXIgPSBNYXRoLm1pbihNYXRoLm1heCh2bS5wYWdlTnVtYmVyLCBtaW5QYWdlTnVtYmVyKSwgbWF4UGFnZU51bWJlcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZtLnN0YXJ0SW5kZXggPSBNYXRoLm1heCgodm0ucGFnZU51bWJlciAtIDEpICogdm0ucGFnZVNpemUsIDApO1xyXG4gICAgICAgICAgICB2bS5lbmRJbmRleCA9IE1hdGgubWluKHZtLnBhZ2VOdW1iZXIgKiB2bS5wYWdlU2l6ZSwgdm0ubGVhZGVyYm9hcmQubGVuZ3RoKTtcclxuICAgICAgICAgICAgdmFyIGxlYWRlcmJvYXJkU2xpY2UgPSB2bS5sZWFkZXJib2FyZC5zbGljZSh2bS5zdGFydEluZGV4LCB2bS5lbmRJbmRleCk7XHJcblxyXG4gICAgICAgICAgICBfLmZvckVhY2gobGVhZGVyYm9hcmRTbGljZSwgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHtcclxuICAgICAgICAgICAgICAgICAgICByYW5raW5nOiBpdGVtLnJhbmtpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWxtOiBpdGVtLnJlYWxtTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBmYWN0aW9uSWNvbkxpbms6IGljb25Qcm92aWRlci5mYWN0aW9uSWNvbkxpbmsoaXRlbS5mYWN0aW9uSWQsIElDT05fU0laRSksXHJcbiAgICAgICAgICAgICAgICAgICAgZmFjdGlvbkRpc3BsYXk6IGl0ZW0uZmFjdGlvbklkID09PSAwID8gJ0FsbGlhbmNlJyA6ICdIb3JkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgd2luczogaXRlbS5zZWFzb25XaW5zLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvc3NlczogaXRlbS5zZWFzb25Mb3NzZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBpdGVtLnJhdGluZ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB2bS5sb2FkaW5nQ291bnQrKztcclxuICAgICAgICAgICAgICAgIHdvd1NlcnZpY2UuZ2V0Q2xhc3MoaXRlbS5jbGFzc0lkKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5jbGFzc0ljb25MaW5rID0gcmVzcG9uc2UuZGF0YS5jbGFzcy5pY29uTGluayhJQ09OX1NJWkUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5jbGFzc0Rpc3BsYXkgPSByZXNwb25zZS5kYXRhLmNsYXNzLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LmNsYXNzQ3NzQ2xhc3MgPSByZXNwb25zZS5kYXRhLmNsYXNzLmNzc0NsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5sb2FkaW5nQ291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2bS5sb2FkaW5nQ291bnQrKztcclxuICAgICAgICAgICAgICAgIHdvd1NlcnZpY2UuZ2V0UmFjZShpdGVtLnJhY2VJZCwgaXRlbS5nZW5kZXJJZClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkucmFjZUljb25MaW5rID0gcmVzcG9uc2UuZGF0YS5yYWNlLmljb25MaW5rKElDT05fU0laRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnJhY2VEaXNwbGF5ID0gcmVzcG9uc2UuZGF0YS5yYWNlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmxvYWRpbmdDb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZtLmxvYWRpbmdDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgd293U2VydmljZS5nZXRTcGVjKGl0ZW0uc3BlY0lkKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5zcGVjSWNvbkxpbmsgPSByZXNwb25zZS5kYXRhLnNwZWMuaWNvbkxpbmsoSUNPTl9TSVpFKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuc3BlY0Rpc3BsYXkgPSByZXNwb25zZS5kYXRhLnNwZWMubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0ubG9hZGluZ0NvdW50LS07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdm0ucGFnZURhdGEucHVzaChlbnRyeSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc29ydEJ5KGtleSkge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSB2bS5zb3J0QnlPcHQua2V5KSB7XHJcbiAgICAgICAgICAgICAgICB2bS5zb3J0QnlPcHQuaXNBc2NlbmRpbmcgPSAhdm0uc29ydEJ5T3B0LmlzQXNjZW5kaW5nO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdm0uc29ydEJ5T3B0LmlzQXNjZW5kaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdm0uc29ydEJ5T3B0LmtleSA9IGtleTtcclxuXHJcbiAgICAgICAgICAgIHZtLmxlYWRlcmJvYXJkID0gXy5zb3J0Qnkodm0ubGVhZGVyYm9hcmQsICduYW1lJyk7XHJcbiAgICAgICAgICAgIHZtLmxlYWRlcmJvYXJkID0gXy5zb3J0Qnkodm0ubGVhZGVyYm9hcmQsIHZtLnNvcnRCeU9wdC5rZXkpO1xyXG4gICAgICAgICAgICBpZiAoIXZtLnNvcnRCeU9wdC5pc0FzY2VuZGluZykgdm0ubGVhZGVyYm9hcmQucmV2ZXJzZSgpO1xyXG5cclxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKFB2cFJhbmtpbmdzQ29udHJvbGxlciwgc29ydEJ5LCAnU29ydGluZyBieSBcXFwiJyArIGtleSArICdcXFwiICgnICsgdm0uc29ydEJ5T3B0LmlzQXNjZW5kaW5nICsgJykuJyk7XHJcbiAgICAgICAgICAgIHZtLmxvYWRQYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAucmFua2luZ3MnKS5kaXJlY3RpdmUoJ3B2cFJhbmtpbmdzJywgUHZwUmFua2luZ3NEaXJlY3RpdmUpO1xyXG5cclxuICAgIFB2cFJhbmtpbmdzRGlyZWN0aXZlLiRpbmplY3QgPSBbJ2xvZ2dlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIFB2cFJhbmtpbmdzRGlyZWN0aXZlKGxvZ2dlcikge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FwcC9jb21wb25lbnRzL3JhbmtpbmdzL3B2cFJhbmtpbmdzL3B2cFJhbmtpbmdzVGVtcGxhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQdnBSYW5raW5nc0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBicmFja2V0OiAnPScsXHJcbiAgICAgICAgICAgICAgICByZWdpb246ICc9JyxcclxuICAgICAgICAgICAgICAgIG9wdGlvbmFsUGFnZVNpemU6ICc9cGFnZVNpemUnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6IGxpbmtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoUHZwUmFua2luZ3NEaXJlY3RpdmUsIGxpbmssICdDb25maWd1cmluZy4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9